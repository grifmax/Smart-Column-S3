# Smart-Column S3 ‚Äî –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è

**–í–µ—Ä—Å–∏—è:** 1.4.9
**–î–∞—Ç–∞:** 2025-01-XX
**–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:** ESP32-S3 DevKitC-1 N16R8
**–ë—é–¥–∂–µ—Ç:** ~11,250‚ÇΩ  

---

## 1. –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

Smart-Column S3 ‚Äî —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–µ–∫—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω–æ–π –∫–æ–ª–æ–Ω–Ω—ã —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–µ–∂–∏–º–æ–≤ —Ä–∞–±–æ—Ç—ã, –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º, Telegram-–±–æ—Ç–æ–º –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

### –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- 5 —Ä–µ–∂–∏–º–æ–≤ —Ä–∞–±–æ—Ç—ã: –∞–≤—Ç–æ-—Ä–µ–∫—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, —Ä—É—á–Ω–∞—è —Ä–µ–∫—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –¥–∏—Å—Ç–∏–ª–ª—è—Ü–∏—è, –∑–∞—Ç–∏—Ä–∫–∞ —Å–æ–ª–æ–¥–∞, Hold
- Watt-Control ‚Äî –∞–≤—Ç–æ–ø–æ–¥–±–æ—Ä –º–æ—â–Ω–æ—Å—Ç–∏ –ø–æ –¥–∞–≤–ª–µ–Ω–∏—é
- Smart Decrement ‚Äî –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–µ —Å–Ω–∏–∂–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ –æ—Ç–±–æ—Ä–∞
- –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π –∞—Ä–µ–æ–º–µ—Ç—Ä –Ω–∞ –±–∞–∑–µ –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–≥–æ –¥–∞—Ç—á–∏–∫–∞ –¥–∞–≤–ª–µ–Ω–∏—è
- Web UI —Å –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ö–µ–º–æ–π –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
- Telegram-–±–æ—Ç —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ –∏ —É–¥–∞–ª—ë–Ω–Ω—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º
- MQTT –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Home Assistant (MQTT Discovery)
- HTTP Basic Auth –∏ Rate Limiting –¥–ª—è –∑–∞—â–∏—Ç—ã –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- OTA-–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ—à–∏–≤–∫–∏
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ SPIFFS —Å —ç–∫—Å–ø–æ—Ä—Ç–æ–º –≤ CSV

---

## 2. –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ (BOM)

### 2.1 –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∏ –ø–∏—Ç–∞–Ω–∏–µ

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ú–æ–¥–µ–ª—å | –¶–µ–Ω–∞ |
|-----------|--------|------|
| –ú–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä | ESP32-S3 DevKitC-1 N16R8 | 1000‚ÇΩ |
| –ë–ª–æ–∫ –ø–∏—Ç–∞–Ω–∏—è | DR-60-12 (12V 5A DIN) | 800‚ÇΩ |
| DC-DC –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å | LM2596 ‚Üí 5.1V | 100‚ÇΩ |
| **–ò—Ç–æ–≥–æ –ø–∏—Ç–∞–Ω–∏–µ** | | **1900‚ÇΩ** |

### 2.2 –î–∞—Ç—á–∏–∫–∏

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ú–æ–¥–µ–ª—å | –ö–æ–ª-–≤–æ | –¶–µ–Ω–∞ |
|-----------|--------|--------|------|
| –î–∞—Ç—á–∏–∫ –¥–∞–≤–ª–µ–Ω–∏—è | MPX5010DP (0-10 –∫–ü–∞) | 1 | 600‚ÇΩ |
| –ê–¶–ü 16-–±–∏—Ç | ADS1115 | 1 | 250‚ÇΩ |
| –ê—Ç–º. –¥–∞–≤–ª–µ–Ω–∏–µ | BMP280 | 2 | 200‚ÇΩ |
| –¢–µ—Ä–º–æ–º–µ—Ç—Ä—ã | DS18B20 –≤–æ–¥–æ–Ω–µ–ø—Ä. | 7 | 1000‚ÇΩ |
| –ò–∑–º–µ—Ä–∏—Ç–µ–ª—å –º–æ—â–Ω–æ—Å—Ç–∏ | PZEM-004T v3.0 | 1 | 450‚ÇΩ |
| –î–∞—Ç—á–∏–∫ –ø–æ—Ç–æ–∫–∞ –≤–æ–¥—ã | YF-S201 | 1 | 150‚ÇΩ |
| –î–∞—Ç—á–∏–∫ —É—Ä–æ–≤–Ω—è | –û–ø—Ç–∏—á–µ—Å–∫–∏–π (–æ–ø—Ü–∏—è) | 1 | 200‚ÇΩ |
| **–ò—Ç–æ–≥–æ –¥–∞—Ç—á–∏–∫–∏** | | | **2800‚ÇΩ** |

### 2.3 –°–∏–ª–æ–≤–∞—è —á–∞—Å—Ç—å

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ú–æ–¥–µ–ª—å | –¶–µ–Ω–∞ |
|-----------|--------|------|
| –¢–≤–µ—Ä–¥–æ—Ç–µ–ª—å–Ω–æ–µ —Ä–µ–ª–µ | SSR-40DA + —Ä–∞–¥–∏–∞—Ç–æ—Ä | 500‚ÇΩ |
| –û–ø—Ç—Ä–æ–Ω —Ä–∞–∑–≤—è–∑–∫–∏ | PC817 | 50‚ÇΩ |
| –†–∞–∑—ä—ë–º—ã | GX12 √ó6 | 480‚ÇΩ |
| **–ò—Ç–æ–≥–æ —Å–∏–ª–æ–≤–∞—è** | | **1030‚ÇΩ** |

### 2.4 –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ú–æ–¥–µ–ª—å | –ö–æ–ª-–≤–æ | –¶–µ–Ω–∞ |
|-----------|--------|--------|------|
| –®–∞–≥–æ–≤—ã–π –¥–≤–∏–≥–∞—Ç–µ–ª—å | NEMA 17 | 1 | 900‚ÇΩ |
| –î—Ä–∞–π–≤–µ—Ä —à–∞–≥–æ–≤–∏–∫–∞ | TMC2209 | 1 | 400‚ÇΩ |
| –≠–ª–µ–∫—Ç—Ä–æ–∫–ª–∞–ø–∞–Ω 12V NC | ‚àÖ8–º–º | 3 | 1350‚ÇΩ |
| MOSFET –º–æ–¥—É–ª–∏ | IRF520/IRF3205 | 3 | 300‚ÇΩ |
| **–ò—Ç–æ–≥–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏** | | | **2950‚ÇΩ** |

### 2.5 –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ú–æ–¥–µ–ª—å | –¶–µ–Ω–∞ |
|-----------|--------|------|
| –°–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥ —Ñ—Ä–∞–∫—Ü–∏–æ–Ω–Ω–∏–∫ | MG996R (5 –ø–æ–∑–∏—Ü–∏–π) | 350‚ÇΩ |
| –ö–ª–∞–ø–∞–Ω —Å—Ç–∞—Ä—Ç-—Å—Ç–æ–ø | 12V NC + MOSFET | 550‚ÇΩ |
| **–ò—Ç–æ–≥–æ –æ–ø—Ü–∏–∏** | | **900‚ÇΩ** |

### 2.6 –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –∫–æ—Ä–ø—É—Å

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ú–æ–¥–µ–ª—å | –¶–µ–Ω–∞ |
|-----------|--------|------|
| –î–∏—Å–ø–ª–µ–π –æ—Å–Ω–æ–≤–Ω–æ–π | 3.5" TFT ILI9488 | 800‚ÇΩ |
| –î–∏—Å–ø–ª–µ–π —Ä–µ–∑–µ—Ä–≤ | OLED 0.96" I2C | 150‚ÇΩ |
| –ó—É–º–º–µ—Ä | –ê–∫—Ç–∏–≤–Ω—ã–π 5V | 50‚ÇΩ |
| –ö–Ω–æ–ø–∫–∏ | –¢–∞–∫—Ç–æ–≤—ã–µ √ó4 | 50‚ÇΩ |
| –ö–æ—Ä–ø—É—Å | –ü–ª–∞—Å—Ç–∏–∫–æ–≤—ã–π –±–æ–∫—Å 12-18 –º–æ–¥—É–ª–µ–π | 800‚ÇΩ |
| –ú–µ–ª–æ—á—ë–≤–∫–∞ | –ü—Ä–æ–≤–æ–¥–∞, –∫–ª–µ–º–º—ã, —Å—Ç–æ–π–∫–∏ | 500‚ÇΩ |
| **–ò—Ç–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** | | **2350‚ÇΩ** |

### **–ò–¢–û–ì–û BOM: ~11,930‚ÇΩ** (—Å –æ–ø—Ü–∏—è–º–∏)

---

## 3. –†–∞—Å–ø–∏–Ω–æ–≤–∫–∞ ESP32-S3

### 3.1 –®–∏–Ω—ã –¥–∞–Ω–Ω—ã—Ö

| –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å | GPIO | –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ |
|-----------|------|------------|
| I2C SDA | GPIO21 | BMP280 √ó2, ADS1115 |
| I2C SCL | GPIO9 | BMP280 √ó2, ADS1115 (GPIO22 –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–∞ ESP32-S3, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è GPIO9) |
| OneWire | GPIO4 | DS18B20 √ó7 (–ø–æ–¥—Ç—è–∂–∫–∞ 4.7–∫–û–º) |

### 3.2 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä–µ–≤–æ–º

| –§—É–Ω–∫—Ü–∏—è | GPIO | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|---------|------|------------|
| SSR –Ω–∞–≥—Ä–µ–≤ | GPIO5 | –ß–µ—Ä–µ–∑ PC817 –æ–ø—Ç—Ä–æ–Ω |
| PZEM-004T RX | GPIO44 | UART0 RX (–∫ TX PZEM) |
| PZEM-004T TX | GPIO43 | UART0 TX (–∫ RX PZEM) |

### 3.3 –ü–µ—Ä–∏—Å—Ç–∞–ª—å—Ç–∏—á–µ—Å–∫–∏–π –Ω–∞—Å–æ—Å

| –§—É–Ω–∫—Ü–∏—è | GPIO |
|---------|------|
| STEP | GPIO6 |
| DIR | GPIO7 |
| EN | GPIO15 |

### 3.4 –ö–ª–∞–ø–∞–Ω—ã

| –ö–ª–∞–ø–∞–Ω | GPIO |
|--------|------|
| –û—Ö–ª–∞–∂–¥–µ–Ω–∏–µ (–≤–æ–¥–∞) | GPIO16 |
| –ì–æ–ª–æ–≤—ã | GPIO17 |
| –£–ù–û (–Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π –æ—Ç–±–æ—Ä) | GPIO18 |

### 3.5 –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤—ã—Ö–æ–¥—ã

| –§—É–Ω–∫—Ü–∏—è | GPIO | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|---------|------|------------|
| –°–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥ —Ñ—Ä–∞–∫—Ü–∏–æ–Ω–Ω–∏–∫ | GPIO8 | PWM 50Hz |
| –ö–ª–∞–ø–∞–Ω —Å—Ç–∞—Ä—Ç-—Å—Ç–æ–ø | GPIO14 | –®–ò–ú —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (GPIO9 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è I2C SCL –Ω–∞ ESP32-S3) |

### 3.6 –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

| –§—É–Ω–∫—Ü–∏—è | GPIO |
|---------|------|
| –ó—É–º–º–µ—Ä | GPIO38 |
| –ö–Ω–æ–ø–∫–∞ (Boot) | GPIO0 |
| –ö–Ω–æ–ø–∫–∏ –¥–æ–ø. | GPIO10, GPIO11, GPIO12 |

### 3.7 –î–∞—Ç—á–∏–∫–∏ (–∞–Ω–∞–ª–æ–≥–æ–≤—ã–µ —á–µ—Ä–µ–∑ ADS1115)

| –ö–∞–Ω–∞–ª ADS1115 | –î–∞—Ç—á–∏–∫ |
|---------------|--------|
| A0 | MPX5010DP (–¥–∞–≤–ª–µ–Ω–∏–µ –∫—É–±–∞) |
| A1 | –†–µ–∑–µ—Ä–≤ |
| A2 | –†–µ–∑–µ—Ä–≤ |
| A3 | –†–µ–∑–µ—Ä–≤ |

### 3.8 –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

> ‚ö†Ô∏è GPIO 33-37 –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ‚Äî –∑–∞–Ω—è—Ç—ã –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –ø–∞–º—è—Ç—å—é N16R8

---

## 4. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ç–µ—Ä–º–æ–º–µ—Ç—Ä–æ–≤ DS18B20

| # | –ü–æ–∑–∏—Ü–∏—è | –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ |
|---|---------|------------|------------|
| 1 | –ö—É–± | T_cube | –ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∏–ø–µ–Ω–∏—è, –æ–∫–æ–Ω—á–∞–Ω–∏–µ –ø–æ–≥–æ–Ω–∞ |
| 2 | –¶–∞—Ä–≥–∞ –Ω–∏–∑ | T_column_bottom | –ë–∞–∑–æ–≤–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ |
| 3 | –¶–∞—Ä–≥–∞ –≤–µ—Ä—Ö | T_column_top | Smart Decrement, –ø–µ—Ä–µ—Ö–æ–¥ —Ñ—Ä–∞–∫—Ü–∏–π |
| 4 | –î–µ—Ñ–ª–µ–≥–º–∞—Ç–æ—Ä | T_reflux | –ö–æ–Ω—Ç—Ä–æ–ª—å —Ñ–ª–µ–≥–º—ã |
| 5 | –¢–°–ê (–≤—ã—Ö–æ–¥) | T_tsa | –ê–≤–∞—Ä–∏–π–Ω—ã–π ‚Äî –ø—Ä–æ—Ä—ã–≤ –ø–∞—Ä–æ–≤ |
| 6 | –í–æ–¥–∞ –≤—Ö–æ–¥ | T_water_in | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π |
| 7 | –í–æ–¥–∞ –≤—ã—Ö–æ–¥ | T_water_out | –ê–≤–∞—Ä–∏–π–Ω—ã–π ‚Äî –ø–µ—Ä–µ–≥—Ä–µ–≤ –≤–æ–¥—ã |

---

## 5. –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

### 5.1 –ê–≤—Ç–æ-—Ä–µ–∫—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (FSM)

–ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º —Å –∫–æ–Ω–µ—á–Ω—ã–º –∞–≤—Ç–æ–º–∞—Ç–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–π.

#### –§–∞–∑—ã —Ä–∞–±–æ—Ç—ã

```
IDLE ‚Üí HEATING ‚Üí STABILIZATION ‚Üí HEADS ‚Üí PURGE ‚Üí BODY ‚Üí TAILS ‚Üí FINISH ‚Üí IDLE
```

| –§–∞–∑–∞ | –£—Å–ª–æ–≤–∏–µ –≤—Ö–æ–¥–∞ | –î–µ–π—Å—Ç–≤–∏—è | –£—Å–ª–æ–≤–∏–µ –≤—ã—Ö–æ–¥–∞ |
|------|---------------|----------|----------------|
| HEATING | –°—Ç–∞—Ä—Ç | –¢–≠–ù 100%, –≤–æ–¥–∞ –≤–∫–ª –ø—Ä–∏ T_cube>45¬∞C | T_column —Å—Ç–∞–±–∏–ª—å–Ω–∞ |
| STABILIZATION | T —Å—Ç–∞–±–∏–ª—å–Ω–∞ | –†–∞–±–æ—Ç–∞ "–Ω–∞ —Å–µ–±—è" 20 –º–∏–Ω | ŒîT<0.1¬∞C –∑–∞ 5 –º–∏–Ω |
| HEADS | –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è ok | –û—Ç–±–æ—Ä 5-12% –æ—Ç –ê–°, 50 –º–ª/—á–∞—Å/–∫–í—Ç | –û–±—ä—ë–º –¥–æ—Å—Ç–∏–≥–Ω—É—Ç –ò–õ–ò T_column‚Üë>0.1¬∞C |
| PURGE | –ì–æ–ª–æ–≤—ã –∑–∞–≤–µ—Ä—à–µ–Ω—ã | –ü–∞—É–∑–∞ 10 –º–∏–Ω, –∫–ª–∞–ø–∞–Ω –∑–∞–∫—Ä—ã—Ç | –¢–∞–π–º–µ—Ä |
| BODY | –ü—Ä–æ–¥—É–≤–∫–∞ ok | Smart Decrement, –£–ù–û-—Ü–∏–∫–ª | –°–∫–æ—Ä–æ—Å—Ç—å<min –ò–õ–ò T_column‚Üë>0.3¬∞C |
| TAILS | –¢–µ–ª–æ –∑–∞–≤–µ—Ä—à–µ–Ω–æ | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –æ—Ç–±–æ—Ä | T_cube ‚â• 99¬∞C |
| FINISH | –•–≤–æ—Å—Ç—ã –∑–∞–≤–µ—Ä—à–µ–Ω—ã | –°—Ç–æ–ø –≤—Å—ë, –æ—Ö–ª–∞–∂–¥–µ–Ω–∏–µ +5 –º–∏–Ω | –¢–∞–π–º–µ—Ä |

#### Watt-Control (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ—â–Ω–æ—Å—Ç—å—é –ø–æ –¥–∞–≤–ª–µ–Ω–∏—é)

```
P_–∑–∞—Ö–ª—ë–± = –≤—ã—Å–æ—Ç–∞_—Ü–∞—Ä–≥–∏_–º √ó –∫–æ—ç—Ñ—Ñ_–Ω–∞—Å–∞–¥–∫–∏

–ü–æ—Ä–æ–≥–∏:
  P_—Ä–∞–±–æ—á–µ–µ      = P_–∑–∞—Ö–ª—ë–± √ó 0.75
  P_–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ = P_–∑–∞—Ö–ª—ë–± √ó 0.90
  P_–∞–≤–∞—Ä–∏–π–Ω—ã–π    = P_–∑–∞—Ö–ª—ë–± √ó 1.05

–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –Ω–∞—Å–∞–¥–∫–∏ (–º–º —Ä—Ç.—Å—Ç./–º):
  –°–ü–ù 3.5 = 15 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
  –°–ü–ù 4.0 = 12
  –†–ü–ù     = 8
```

#### Smart Decrement (–∞–¥–∞–ø—Ç–∏–≤–Ω–æ–µ —Å–Ω–∏–∂–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏)

```python
if T_column > T_base + 0.15¬∞C:
    pump.stop()
    wait_until(T_column < T_base + 0.10¬∞C, timeout=5min)
    speed = speed * 0.85
    if speed < 50 ml/hour/kW:
        transition_to(TAILS)
    pump.start()
```

#### –£–ù–û-—Ü–∏–∫–ª (–ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π —Å–±—Ä–æ—Å –¥–∞–≤–ª–µ–Ω–∏—è)

```
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ):
  uno_on  = 3 —Å–µ–∫   (–∫–ª–∞–ø–∞–Ω –æ—Ç–∫—Ä—ã—Ç)
  uno_off = 60 —Å–µ–∫  (–∫–ª–∞–ø–∞–Ω –∑–∞–∫—Ä—ã—Ç)
```

### 5.2 –†—É—á–Ω–∞—è —Ä–µ–∫—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

–í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ Web UI –≤–æ –≤—Ä–µ–º—è –ø–æ–≥–æ–Ω–∞:
- –ú–æ—â–Ω–æ—Å—Ç—å –¢–≠–ù–∞
- –°–∫–æ—Ä–æ—Å—Ç—å –æ—Ç–±–æ—Ä–∞
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ñ—Ä–∞–∫—Ü–∏–π –∫–Ω–æ–ø–∫–æ–π "–°–ª–µ–¥—É—é—â–∞—è —Ñ—Ä–∞–∫—Ü–∏—è"
- –ê–≤—Ç–æ–º–∞—Ç–∏–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—é

### 5.3 –î–∏—Å—Ç–∏–ª–ª—è—Ü–∏—è

–£–ø—Ä–æ—â—ë–Ω–Ω—ã–π —Ä–µ–∂–∏–º:
- –¢–æ–ª—å–∫–æ –Ω–∞–≥—Ä–µ–≤ —Å –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –º–æ—â–Ω–æ—Å—Ç–∏
- –¢–µ—Ä–º–æ–º–µ—Ç—Ä—ã: –∫—É–±, –≤—ã—Ö–æ–¥
- –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π –∞—Ä–µ–æ–º–µ—Ç—Ä (–ø–æ–ø—É–≥–∞–π)
- –ë–µ–∑ –Ω–∞—Å–æ—Å–∞ –∏ –∫–ª–∞–ø–∞–Ω–æ–≤ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è

### 5.4 –ó–∞—Ç–∏—Ä–∫–∞ —Å–æ–ª–æ–¥–∞

–ü–µ—Ä–µ–Ω–æ—Å –∏–∑ Distiller Control v1.4.0:

| –ü—Ä–æ—Ñ–∏–ª—å | –ü–∞—É–∑—ã | –í—Ä–µ–º—è |
|---------|-------|-------|
| –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π | 7 –ø–∞—É–∑ | 110 –º–∏–Ω |
| –ü–æ–ª–Ω—ã–π | 7 –ø–∞—É–∑ | 170 –º–∏–Ω |
| –ë—ã—Å—Ç—Ä—ã–π | 4 –ø–∞—É–∑—ã | 70 –º–∏–Ω |

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- –¶–µ–Ω—Ç—Ä–æ–±–µ–∂–Ω—ã–π –Ω–∞—Å–æ—Å (–Ω–µ –ø–µ—Ä–∏—Å—Ç–∞–ª—å—Ç–∏–∫–∞)
- –ö–ª–∞–ø–∞–Ω—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
- UI: –∫—É–± —Å –º–µ—à–∞–ª–∫–æ–π, –æ–¥–∏–Ω –¥–∞—Ç—á–∏–∫ T

### 5.5 Hold (—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–µ —Å—Ç—É–ø–µ–Ω–∏)

–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã:

```
–ü—Ä–∏–º–µ—Ä: 63¬∞C √ó 30 –º–∏–Ω ‚Üí 72¬∞C √ó 15 —Å–µ–∫ ‚Üí –æ—Ö–ª–∞–∂–¥–µ–Ω–∏–µ
```

–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:
- –ü–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è –ø–∏–≤–∞
- Sous-vide
- –ü–æ–¥–æ–≥—Ä–µ–≤ –≤–æ–¥—ã

---

## 6. –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏

### 6.1 –°–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥-—Ñ—Ä–∞–∫—Ü–∏–æ–Ω–Ω–∏–∫ (–¥–æ 5 –ø–æ–∑–∏—Ü–∏–π)

```
–ü–æ–∑–∏—Ü–∏–∏ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —É–≥–ª—ã):
  0¬∞   ‚Äî –ì–æ–ª–æ–≤—ã
  36¬∞  ‚Äî –ü–æ–¥–≥–æ–ª–æ–≤–Ω–∏–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  72¬∞  ‚Äî –¢–µ–ª–æ
  108¬∞ ‚Äî –ü—Ä–µ–¥—Ö–≤–æ—Å—Ç—å–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  144¬∞ ‚Äî –•–≤–æ—Å—Ç—ã

–ü—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:
  positions_enabled[] = {true, false, true, false, true}
  // –ü—Ä–∏–º–µ—Ä: —Ç–æ–ª—å–∫–æ –≥–æ–ª–æ–≤—ã ‚Üí —Ç–µ–ª–æ ‚Üí —Ö–≤–æ—Å—Ç—ã (3 –ø–æ–∑–∏—Ü–∏–∏)
  
  –ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è –ø—Ä–∏ –∞–≤—Ç–æ–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏
  –í —Ä—É—á–Ω–æ–º —Ä–µ–∂–∏–º–µ –¥–æ—Å—Ç—É–ø–Ω—ã –≤—Å–µ 5 –ø–æ–∑–∏—Ü–∏–π

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
  - –ü–ª–∞–≤–Ω—ã–π –ø–æ–≤–æ—Ä–æ—Ç
  - –ü–∞—É–∑–∞ 2 —Å–µ–∫ –ø–æ—Å–ª–µ —Å–º–µ–Ω—ã –ø–æ–∑–∏—Ü–∏–∏
  - –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ FSM –∏–ª–∏ –≤—Ä—É—á–Ω—É—é
```

**3D –º–æ–¥–µ–ª–∏ –¥–ª—è –ø–µ—á–∞—Ç–∏:**
- Pinch Valve: https://www.printables.com/model/247744
- Servo Valve: https://www.printables.com/model/207051
- 3-in-1 Valve: https://www.instructables.com/3d-Printing-Servo-Controlled-and-Other-Valves/

### 6.2 –ö–ª–∞–ø–∞–Ω —Å—Ç–∞—Ä—Ç-—Å—Ç–æ–ø (–®–ò–ú)

```python
# –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã
if T_column <= T_base + 0.15¬∞C:
    valve.open()      # –û—Ç–±–æ—Ä –∏–¥—ë—Ç
else:
    valve.close()     # –†–∞–±–æ—Ç–∞ "–Ω–∞ —Å–µ–±—è"
    
if valve.closed_time > 5min:
    transition_to(TAILS)

# –®–ò–ú —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç—å—é
valve.pwm_duty = map(speed, 0, max_speed, 0, 255)
```

### 6.3 –ö–æ–º–±–∏–Ω–∞—Ü–∏–∏ —Ä–µ–∂–∏–º–æ–≤ –æ—Ç–±–æ—Ä–∞

| –û—Ç–±–æ—Ä | –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|--------------|----------|
| –ù–∞—Å–æ—Å –ø–µ—Ä–∏—Å—Ç–∞–ª—å—Ç–∏–∫–∞ | Y-–∫–ª–∞–ø–∞–Ω | –ë–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è |
| –ù–∞—Å–æ—Å | –°–µ—Ä–≤–æ 5 –ø–æ–∑–∏—Ü–∏–π | –¢–æ—á–Ω—ã–π –æ—Ç–±–æ—Ä + 5 —ë–º–∫–æ—Å—Ç–µ–π |
| –ö–ª–∞–ø–∞–Ω —Å—Ç–∞—Ä—Ç-—Å—Ç–æ–ø | Y-–∫–ª–∞–ø–∞–Ω | –ö–ª–∞—Å—Å–∏–∫–∞ —Å–∞–º–æ—Ç—ë–∫ |
| –ö–ª–∞–ø–∞–Ω –®–ò–ú | –°–µ—Ä–≤–æ | –°–∞–º–æ—Ç—ë–∫ + 5 —ë–º–∫–æ—Å—Ç–µ–π |

---

## 7. –°–∏—Å—Ç–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### 7.1 –ê–≤–∞—Ä–∏–π–Ω—ã–µ —É—Å–ª–æ–≤–∏—è

| –£—Å–ª–æ–≤–∏–µ | –ü–æ—Ä–æ–≥ | –î–µ–π—Å—Ç–≤–∏–µ |
|---------|-------|----------|
| –ü—Ä–æ—Ä—ã–≤ –ø–∞—Ä–æ–≤ | T_tsa > 55¬∞C | –°–¢–û–ü –≤—Å—ë |
| –ü–µ—Ä–µ–≥—Ä–µ–≤ –≤–æ–¥—ã | T_water_out > 70¬∞C | –°–¢–û–ü –Ω–∞–≥—Ä–µ–≤ |
| –ù–µ—Ç –ø–æ—Ç–æ–∫–∞ –≤–æ–¥—ã | –î–∞—Ç—á–∏–∫ = 0 –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ | –°–¢–û–ü –Ω–∞–≥—Ä–µ–≤ |
| –ó–∞—Ö–ª—ë–± –∫–æ–ª–æ–Ω–Ω—ã | P > P_–∞–≤–∞—Ä–∏–π–Ω—ã–π | –°–¢–û–ü, –ø–∞—É–∑–∞ 30—Å, —Ä–µ—Å—Ç–∞—Ä—Ç -15% |
| –ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ —ë–º–∫–æ—Å—Ç–∏ | –î–∞—Ç—á–∏–∫ —É—Ä–æ–≤–Ω—è = 1 | –°–¢–û–ü –Ω–∞—Å–æ—Å |
| –°–±–æ–π –¥–∞—Ç—á–∏–∫–∞ T | –ù–µ—Ç –æ—Ç–≤–µ—Ç–∞ > 5 —Å–µ–∫ | –°–¢–û–ü –≤—Å—ë |
| –ù–∏–∑–∫–æ–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ | U < 190V | –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ |
| –í—ã—Å–æ–∫–æ–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ | U > 250V | –°–¢–û–ü –Ω–∞–≥—Ä–µ–≤ |

### 7.2 –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∞–≤–∞—Ä–∏–π

```
1. CRITICAL: –ü—Ä–æ—Ä—ã–≤ –ø–∞—Ä–æ–≤, —Å–±–æ–π –¥–∞—Ç—á–∏–∫–∞ ‚Üí –ø–æ–ª–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞
2. HIGH: –ü–µ—Ä–µ–≥—Ä–µ–≤ –≤–æ–¥—ã, –Ω–µ—Ç –ø–æ—Ç–æ–∫–∞ ‚Üí —Å—Ç–æ–ø –Ω–∞–≥—Ä–µ–≤–∞
3. MEDIUM: –ó–∞—Ö–ª—ë–± ‚Üí –∞–≤—Ç–æ—Ä–µ—Å—Ç–∞—Ä—Ç —Å–æ —Å–Ω–∏–∂–µ–Ω–∏–µ–º –º–æ—â–Ω–æ—Å—Ç–∏
4. LOW: –ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ ‚Üí —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
```

---

## 8. –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞

### 8.1 –¢–µ—Ä–º–æ–º–µ—Ç—Ä—ã DS18B20

```
–ü—Ä–æ—Ü–µ–¥—É—Ä–∞:
1. –õ—ë–¥ 0¬∞C ‚Üí –∑–∞–ø–∏—Å–∞—Ç—å offset –∫–∞–∂–¥–æ–≥–æ –¥–∞—Ç—á–∏–∫–∞
2. –ö–∏–ø—è—Ç–æ–∫ 100¬∞C (—Å —É—á—ë—Ç–æ–º –∞—Ç–º. –¥–∞–≤–ª–µ–Ω–∏—è) ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–Ω–µ–π–Ω–æ—Å—Ç–∏

–•—Ä–∞–Ω–µ–Ω–∏–µ: NVS, –º–∞—Å—Å–∏–≤ float[7]
```

### 8.2 –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π –∞—Ä–µ–æ–º–µ—Ç—Ä

```
–ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –ø–æ 3+ —Ç–æ—á–∫–∞–º:
1. –í–æ–¥–∞ (0%) ‚Üí P‚ÇÄ
2. –†–∞—Å—Ç–≤–æ—Ä ~40% ‚Üí P‚ÇÅ (–∏–∑–º–µ—Ä–∏—Ç—å –æ–±—ã—á–Ω—ã–º –∞—Ä–µ–æ–º–µ—Ç—Ä–æ–º)
3. –†–∞—Å—Ç–≤–æ—Ä ~80% ‚Üí P‚ÇÇ (–∏–∑–º–µ—Ä–∏—Ç—å –æ–±—ã—á–Ω—ã–º –∞—Ä–µ–æ–º–µ—Ç—Ä–æ–º)

–†–∞—Å—á—ë—Ç: –ø–æ–ª–∏–Ω–æ–º–∏–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è –∏–ª–∏ lookup table
–§–æ—Ä–º—É–ª–∞: ABV = f(ŒîP, T, P_atm)
```

### 8.3 –ü–µ—Ä–∏—Å—Ç–∞–ª—å—Ç–∏—á–µ—Å–∫–∏–π –Ω–∞—Å–æ—Å

```
–ü—Ä–æ—Ü–µ–¥—É—Ä–∞:
1. –ó–∞–ª–∏—Ç—å 100 –º–ª –≤–æ–¥—ã
2. –ü—Ä–æ–∫–∞—á–∞—Ç—å, —Å—á–∏—Ç–∞—è –æ–±–æ—Ä–æ—Ç—ã
3. –ó–∞–ø–∏—Å–∞—Ç—å: –º–ª/–æ–±–æ—Ä–æ—Ç

–¢–æ—á–Ω–æ—Å—Ç—å: ¬±2%
```

### 8.4 –ò–∑–º–µ—Ä–∏—Ç–µ–ª—å –º–æ—â–Ω–æ—Å—Ç–∏ (PZEM-004T v3.0)

```
PZEM-004T –æ—Ç–∫–∞–ª–∏–±—Ä–æ–≤–∞–Ω –Ω–∞ –∑–∞–≤–æ–¥–µ –∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏.

–ò–∑–º–µ—Ä—è–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
- –ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ (V)    –¢–æ—á–Ω–æ—Å—Ç—å: ¬±0.5%
- –¢–æ–∫ (A)           –¢–æ—á–Ω–æ—Å—Ç—å: ¬±0.5%
- –ú–æ—â–Ω–æ—Å—Ç—å (W)      –¢–æ—á–Ω–æ—Å—Ç—å: ¬±1%
- –≠–Ω–µ—Ä–≥–∏—è (kWh)    –ù–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω—ã–π —Å—á—ë—Ç—á–∏–∫
- –ß–∞—Å—Ç–æ—Ç–∞ (Hz)     45-65 –ì—Ü
- Power Factor      0-1.0

–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ: UART (9600 baud, 8N1)
–¢–æ—á–Ω–æ—Å—Ç—å: ¬±1%
```

### 8.5 –î–∞–≤–ª–µ–Ω–∏–µ –∑–∞—Ö–ª—ë–±–∞

```
–ü—Ä–æ—Ü–µ–¥—É—Ä–∞:
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞–≥—Ä–µ–≤ –Ω–∞ –º–∞–∫—Å–∏–º—É–º
2. –î–æ–∂–¥–∞—Ç—å—Å—è –∑–∞—Ö–ª—ë–±–∞ (–≤–∏–∑—É–∞–ª—å–Ω–æ/–∞—É–¥–∏–æ)
3. –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å P_max
4. P_–∑–∞—Ö–ª—ë–± = P_max √ó 0.95

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏: —Å–∏—Å—Ç–µ–º–∞ –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ
```

---

## 9. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

### 9.1 –§–∏–∑–∏—á–µ—Å–∫–∏–µ –æ—Ä–≥–∞–Ω—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

#### –ö–Ω–æ–ø–∫–∏ (4 —à—Ç.)

| –ö–Ω–æ–ø–∫–∞ | –ö–æ—Ä–æ—Ç–∫–æ–µ | –î–ª–∏–Ω–Ω–æ–µ (2 —Å–µ–∫) |
|--------|----------|-----------------|
| 1 | –°—Ç–∞—Ä—Ç/–ü–∞—É–∑–∞ | –°—Ç–æ–ø |
| 2 | –°–ª–µ–¥—É—é—â–∞—è —Ñ—Ä–∞–∫—Ü–∏—è | –ú–µ–Ω—é —Ä–µ–∂–∏–º–æ–≤ |
| 3 | –°–∫–æ—Ä–æ—Å—Ç—å + | –ú–æ—â–Ω–æ—Å—Ç—å + |
| 4 | –°–∫–æ—Ä–æ—Å—Ç—å ‚àí | –ú–æ—â–Ω–æ—Å—Ç—å ‚àí |

#### –ó—É–º–º–µ—Ä

| –°–æ–±—ã—Ç–∏–µ | –°–∏–≥–Ω–∞–ª |
|---------|--------|
| –°–º–µ–Ω–∞ —Ñ–∞–∑—ã | 2 –∫–æ—Ä–æ—Ç–∫–∏—Ö |
| –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ | 3 –∫–æ—Ä–æ—Ç–∫–∏—Ö |
| –ê–≤–∞—Ä–∏—è | –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π |
| –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ | –ú–µ–ª–æ–¥–∏—è |

### 9.2 Web UI

#### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- SVG + CSS –∞–Ω–∏–º–∞—Ü–∏–∏ + Canvas
- –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º–∞—è —Ç–µ–º–∞ (light/dark)
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω

#### –°—Ö–µ–º—ã –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è (4 –≤–∞—Ä–∏–∞–Ω—Ç–∞)

1. **–†–µ–∫—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω–∞—è –∫–æ–ª–æ–Ω–Ω–∞** ‚Äî –¥–µ—Ñ–ª–µ–≥–º–∞—Ç–æ—Ä, —Ü–∞—Ä–≥–∞, –ø–æ–ø—É–≥–∞–π
2. **–ê–ª–∞–º–±–∏–∫ —Å —Å—É—Ö–æ–ø–∞—Ä–Ω–∏–∫–æ–º** ‚Äî –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –¥–∏—Å—Ç–∏–ª–ª—è—Ü–∏—è
3. **–ó–∞—Ç–∏—Ä–∫–∞** ‚Äî –∫—É–± —Å –º–µ—à–∞–ª–∫–æ–π
4. **–ü–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è** ‚Äî —É–ø—Ä–æ—â—ë–Ω–Ω–∞—è —Å—Ö–µ–º–∞

#### –ê–Ω–∏–º–∞—Ü–∏–∏

- –ö–∏–ø–µ–Ω–∏–µ –≤ –∫—É–±–µ (–ø—É–∑—ã—Ä—å–∫–∏)
- –ü–æ—Ç–æ–∫ –≤ –∑–º–µ–µ–≤–∏–∫–µ/–æ—Ö–ª–∞–¥–∏—Ç–µ–ª–µ
- –ö–∞–ø–ª–∏ –æ—Ç–±–æ—Ä–∞
- –ü—É–ª—å—Å–∞—Ü–∏—è –ø—Ä–∏ –Ω–∞–≥—Ä–µ–≤–µ
- –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —ë–º–∫–æ—Å—Ç–∏

#### –í–∫–ª–∞–¥–∫–∏ (6 —à—Ç.)

| –í–∫–ª–∞–¥–∫–∞ | –°–æ–¥–µ—Ä–∂–∏–º–æ–µ |
|---------|------------|
| –ì–ª–∞–≤–Ω–∞—è | –°—Ç–∞—Ç—É—Å, —Å—Ö–µ–º–∞, –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã |
| –†–µ–∂–∏–º—ã | –í—ã–±–æ—Ä –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–∂–∏–º–∞ |
| –ù–∞—Å—Ç—Ä–æ–π–∫–∏ | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è |
| –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ | –î–∞—Ç—á–∏–∫–∏, –Ω–∞—Å–æ—Å, –∞—Ä–µ–æ–º–µ—Ç—Ä |
| –ì—Ä–∞—Ñ–∏–∫–∏ | –ò—Å—Ç–æ—Ä–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ |
| –°–∏—Å—Ç–µ–º–∞ | WiFi, Telegram, OTA, —ç–∫—Å–ø–æ—Ä—Ç |

### 9.3 Telegram-–±–æ—Ç

#### –ö–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| /status | –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ |
| /start_rect | –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ-—Ä–µ–∫—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ |
| /start_dist | –ó–∞–ø—É—Å–∫ –¥–∏—Å—Ç–∏–ª–ª—è—Ü–∏–∏ |
| /stop | –û—Å—Ç–∞–Ω–æ–≤–∫–∞ |
| /pause | –ü–∞—É–∑–∞ |
| /resume | –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å |
| /photo | –°–∫—Ä–∏–Ω—à–æ—Ç UI |
| /log | –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –ª–æ–≥–∞ |
| /settings | –¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ |

#### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

- –°–º–µ–Ω–∞ —Ñ–∞–∑—ã (—Å —É–∫–∞–∑–∞–Ω–∏–µ–º –Ω–æ–≤–æ–π)
- –ê–≤–∞—Ä–∏—è (—Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–µ–π)
- –ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ —ë–º–∫–æ—Å—Ç–∏
- –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø–æ–≥–æ–Ω–∞ (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)
- –ù–∏–∑–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –æ—Ç–±–æ—Ä–∞

### 9.4 MQTT –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

#### Home Assistant Discovery

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ Home Assistant —á–µ—Ä–µ–∑ MQTT Discovery protocol.

**–¢–æ–ø–∏–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è:**
```
smartcolumn/{device_id}/state     - –ü–æ–ª–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã (JSON)
smartcolumn/{device_id}/health    - –ó–¥–æ—Ä–æ–≤—å–µ —Å–∏—Å—Ç–µ–º—ã (0-100%)
smartcolumn/{device_id}/status    - –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (online/offline)
```

**Discovery —Ç–æ–ø–∏–∫–∏:**
```
homeassistant/sensor/{device_id}_cube_temp/config
homeassistant/sensor/{device_id}_column_top/config
homeassistant/sensor/{device_id}_voltage/config
homeassistant/sensor/{device_id}_power/config
homeassistant/sensor/{device_id}_energy/config
homeassistant/sensor/{device_id}_health/config
```

#### –°—É—â–Ω–æ—Å—Ç–∏ –≤ Home Assistant

| –°—É—â–Ω–æ—Å—Ç—å | –ö–ª–∞—Å—Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ | –ï–¥–∏–Ω–∏—Ü–∞ | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ |
|----------|------------------|---------|------------|
| –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∫—É–±–∞ | temperature | ¬∞C | 10 —Å–µ–∫ |
| –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —Ü–∞—Ä–≥–∏ –≤–µ—Ä—Ö | temperature | ¬∞C | 10 —Å–µ–∫ |
| –ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ | voltage | V | 10 —Å–µ–∫ |
| –ú–æ—â–Ω–æ—Å—Ç—å | power | W | 10 —Å–µ–∫ |
| –≠–Ω–µ—Ä–≥–∏—è | energy | kWh | 10 —Å–µ–∫ |
| –ó–¥–æ—Ä–æ–≤—å–µ —Å–∏—Å—Ç–µ–º—ã | None | % | 5 —Å–µ–∫ |

#### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Energy Dashboard

–°–µ–Ω—Å–æ—Ä —ç–Ω–µ—Ä–≥–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `state_class: total_increasing` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å Energy Dashboard Home Assistant, –ø–æ–∑–≤–æ–ª—è—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —ç–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏–∏ –ø–æ –¥–Ω—è–º/–º–µ—Å—è—Ü–∞–º.

#### LWT (Last Will and Testament)

```
–¢–æ–ø–∏–∫: smartcolumn/{device_id}/status
Payload: online / offline
Retain: true
```

–ü—Ä–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ —Å—Ç–∞—Ç—É—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `offline`, —á—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ HA –∫–∞–∫ `unavailable`.

### 9.5 –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

#### HTTP Basic Authentication

```
–ó–∞–≥–æ–ª–æ–≤–æ–∫: Authorization: Basic <base64(username:password)>
```

**–§—É–Ω–∫—Ü–∏–∏:**
- –ó–∞—â–∏—Ç–∞ –≤—Å–µ—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏ API
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ username/password —á–µ—Ä–µ–∑ Web UI
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏

#### Rate Limiting

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- –ú–∞–∫—Å–∏–º—É–º 60 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É —Å –æ–¥–Ω–æ–≥–æ IP
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–∞ 1 –º–∏–Ω—É—Ç—É –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏
- –¶–∏—Ä–∫—É–ª—è—Ä–Ω—ã–π –±—É—Ñ–µ—Ä –Ω–∞ 20 IP-–∞–¥—Ä–µ—Å–æ–≤

**HTTP –∫–æ–¥—ã:**
- `401 Unauthorized` - –Ω–µ–≤–µ—Ä–Ω—ã–µ credentials
- `429 Too Many Requests` - –ø—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤

#### Security Headers

```
Content-Security-Policy: default-src 'self'; script-src 'self' 'unsafe-inline'
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Referrer-Policy: strict-origin-when-cross-origin
Permissions-Policy: geolocation=(), microphone=(), camera=()
```

---

## 10. API Endpoints

### 10.1 –°—Ç–∞—Ç—É—Å (GET)

| Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| /api/status | –ü–æ–ª–Ω—ã–π —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã |
| /api/sensors | –ü–æ–∫–∞–∑–∞–Ω–∏—è –≤—Å–µ—Ö –¥–∞—Ç—á–∏–∫–æ–≤ |
| /api/log | –ü–æ—Å–ª–µ–¥–Ω–∏–µ N –∑–∞–ø–∏—Å–µ–π –ª–æ–≥–∞ |

### 10.2 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (POST)

| Endpoint | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----------|----------|
| /api/mode/start | mode, params | –ó–∞–ø—É—Å–∫ —Ä–µ–∂–∏–º–∞ |
| /api/mode/stop | ‚Äî | –û—Å—Ç–∞–Ω–æ–≤–∫–∞ |
| /api/mode/pause | ‚Äî | –ü–∞—É–∑–∞ |
| /api/mode/next | ‚Äî | –°–ª–µ–¥—É—é—â–∞—è —Ñ—Ä–∞–∫—Ü–∏—è |
| /api/pump/speed | speed (0-100) | –°–∫–æ—Ä–æ—Å—Ç—å –Ω–∞—Å–æ—Å–∞ |
| /api/heater/power | power (0-100) | –ú–æ—â–Ω–æ—Å—Ç—å –¢–≠–ù–∞ |

### 10.3 –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (GET/POST)

| Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| /api/settings | –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ |
| /api/calibration | –î–∞–Ω–Ω—ã–µ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ |

### 10.4 –°–∏—Å—Ç–µ–º–∞ (GET/POST)

| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| /api/system/info | GET | –í–µ—Ä—Å–∏—è, uptime, –ø–∞–º—è—Ç—å |
| /api/system/reboot | POST | –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ |
| /api/system/reset | POST | –°–±—Ä–æ—Å –Ω–∞—Å—Ç—Ä–æ–µ–∫ |
| /api/export | GET | –≠–∫—Å–ø–æ—Ä—Ç –ª–æ–≥–∞ –≤ CSV |

---

## 11. –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### 11.1 NVS (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏)

#### –û–±—â–∏–µ
```
wifi_ssid, wifi_pass
telegram_token, telegram_chat_id
mqtt_server, mqtt_port, mqtt_username, mqtt_password
mqtt_base_topic, mqtt_enabled, mqtt_discovery
mqtt_publish_interval
web_username, web_password
auth_enabled, rate_limit_enabled
language (RU/EN)
theme (light/dark)
sound_enabled
```

#### –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ
```
column_height_mm
packing_type (SPN35/SPN40/RPN)
packing_coeff (–º–º —Ä—Ç.—Å—Ç./–º)
heater_power_w
cube_volume_l
```

#### –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞
```
ds18b20_offsets[7]
hydrometer_points[3+]
pump_ml_per_rev
p_flood_calibrated
```

#### –†–µ–∂–∏–º—ã (–¥–µ—Ñ–æ–ª—Ç—ã)
```
rect_heads_percent (5-12, default 8)
rect_body_speed
rect_thresholds
mash_profiles[3]
hold_steps[]
fraction_positions[5] = {0, 36, 72, 108, 144}  // —É–≥–ª—ã
fraction_enabled[5] = {1, 0, 1, 0, 1}          // –≤–∫–ª/–≤—ã–∫–ª
```

### 11.2 SPIFFS (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)

#### –ò–Ω—Ç–µ—Ä–≤–∞–ª—ã –∑–∞–ø–∏—Å–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ò–Ω—Ç–µ—Ä–≤–∞–ª |
|----------|----------|
| –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã √ó7 | 5 —Å–µ–∫ |
| –î–∞–≤–ª–µ–Ω–∏–µ –∫—É–±–∞ | 5 —Å–µ–∫ |
| –î–∞–≤–ª–µ–Ω–∏–µ –∞—Ç–º. | 60 —Å–µ–∫ |
| –ö—Ä–µ–ø–æ—Å—Ç—å –∞—Ä–µ–æ–º–µ—Ç—Ä | 10 —Å–µ–∫ |
| –ú–æ—â–Ω–æ—Å—Ç—å | 5 —Å–µ–∫ |
| –°–∫–æ—Ä–æ—Å—Ç—å –æ—Ç–±–æ—Ä–∞ | 10 —Å–µ–∫ |
| –û–±—ä—ë–º (–Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω–æ –ø–æ —Ñ—Ä–∞–∫—Ü–∏—è–º) | 10 —Å–µ–∫ |
| –°–æ—Å—Ç–æ—è–Ω–∏–µ FSM | –ü—Ä–∏ —Å–º–µ–Ω–µ |
| –°–æ–±—ã—Ç–∏—è (–∞–≤–∞—Ä–∏–∏, –ø–µ—Ä–µ—Ö–æ–¥—ã) | –ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ |

#### –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞

```
/logs/YYYYMMDD_HHMMSS.csv

timestamp,t_cube,t_col_bot,t_col_top,t_reflux,t_tsa,t_water_in,t_water_out,p_cube,p_atm,abv,power,speed,volume,state,event
```

---

## 12. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
smart-column-s3/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main.cpp
‚îÇ   ‚îú‚îÄ‚îÄ config.h              # –ü–∏–Ω—ã, –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ drivers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sensors.cpp       # DS18B20, BMP280, ADS1115
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ heater.cpp        # SSR PWM
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pump.cpp          # TMC2209 stepper
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ valves.cpp        # –ö–ª–∞–ø–∞–Ω—ã, —Å–µ—Ä–≤–æ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ display.cpp       # TFT/OLED
‚îÇ   ‚îú‚îÄ‚îÄ modes/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ fsm.cpp           # –ö–æ–Ω–µ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ rectification.cpp
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ distillation.cpp
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ mashing.cpp
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ hold.cpp
‚îÇ   ‚îú‚îÄ‚îÄ control/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ watt_control.cpp  # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ—â–Ω–æ—Å—Ç—å—é
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ smart_decrement.cpp
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ safety.cpp        # –ê–≤–∞—Ä–∏–π–Ω–∞—è –∑–∞—â–∏—Ç–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ pid.cpp           # PID-—Ä–µ–≥—É–ª—è—Ç–æ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ interface/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ webserver.cpp     # AsyncWebServer
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api.cpp           # REST API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ telegram.cpp      # Telegram-–±–æ—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ mqtt.cpp          # MQTT –∫–ª–∏–µ–Ω—Ç + HA Discovery
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ security.cpp      # Auth + Rate Limiting
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ buttons.cpp       # –§–∏–∑–∏—á–µ—Å–∫–∏–µ –∫–Ω–æ–ø–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ storage/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ nvs_manager.cpp   # –ù–∞—Å—Ç—Ä–æ–π–∫–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ logger.cpp        # SPIFFS –ª–æ–≥–∏
‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îÇ       ‚îú‚îÄ‚îÄ hydrometer.cpp    # –†–∞—Å—á—ë—Ç –∫—Ä–µ–ø–æ—Å—Ç–∏
‚îÇ       ‚îî‚îÄ‚îÄ calibration.cpp
‚îú‚îÄ‚îÄ data/                     # SPIFFS (Web UI)
‚îÇ   ‚îú‚îÄ‚îÄ index.html
‚îÇ   ‚îú‚îÄ‚îÄ app.js
‚îÇ   ‚îú‚îÄ‚îÄ style.css
‚îÇ   ‚îî‚îÄ‚îÄ schemes/              # SVG —Å—Ö–µ–º—ã
‚îú‚îÄ‚îÄ platformio.ini
‚îî‚îÄ‚îÄ SPEC.md
```

---

## 13. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (platformio.ini)

```ini
[env:esp32s3]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino

lib_deps =
    paulstoffregen/OneWire
    milesburton/DallasTemperature
    adafruit/Adafruit BMP280 Library
    adafruit/Adafruit ADS1X15
    me-no-dev/ESPAsyncWebServer
    bblanchon/ArduinoJson
    witnessmenow/UniversalTelegramBot
    knolleary/PubSubClient
    bodmer/TFT_eSPI
    waspinator/AccelStepper

build_flags =
    -DCORE_DEBUG_LEVEL=0
    -DBOARD_HAS_PSRAM

monitor_speed = 115200
upload_speed = 921600
```

---

## 14. –≠—Ç–∞–ø—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –§–∞–∑–∞ 1: –Ø–¥—Ä–æ ‚úÖ (–ó–∞–≤–µ—Ä—à–µ–Ω–æ)
- [x] config.h ‚Äî –ø–∏–Ω—ã, –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
- [x] –î—Ä–∞–π–≤–µ—Ä—ã –¥–∞—Ç—á–∏–∫–æ–≤ (DS18B20, BMP280, ADS1115)
- [x] –î—Ä–∞–π–≤–µ—Ä SSR (PWM)
- [x] –î—Ä–∞–π–≤–µ—Ä —à–∞–≥–æ–≤–æ–≥–æ –Ω–∞—Å–æ—Å–∞ (TMC2209)
- [x] –ë–∞–∑–æ–≤—ã–π WebServer (AsyncWebServer)

### –§–∞–∑–∞ 2: –†–µ–∂–∏–º—ã ‚úÖ (–ó–∞–≤–µ—Ä—à–µ–Ω–æ)
- [x] FSM –∞–≤—Ç–æ-—Ä–µ–∫—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (control/fsm.cpp)
- [x] Watt-Control (control/watt_control.cpp)
- [x] Smart Decrement (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ watt_control.cpp)
- [x] –†—É—á–Ω–∞—è —Ä–µ–∫—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ FSM, Mode::MANUAL_RECT)
- [x] –î–∏—Å—Ç–∏–ª–ª—è—Ü–∏—è (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ FSM, Mode::DISTILLATION)

### –§–∞–∑–∞ 3: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã ‚úÖ (–ó–∞–≤–µ—Ä—à–µ–Ω–æ)
- [x] Web UI —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏ (data/index.html, data/app.js)
- [x] REST API –ø–æ–ª–Ω—ã–π (interface/webserver.cpp)
- [x] Telegram-–±–æ—Ç (interface/telegram.cpp)
- [x] –ö–Ω–æ–ø–∫–∏ + –∑—É–º–º–µ—Ä (interface/buttons.cpp, PIN_BUZZER)

### –§–∞–∑–∞ 4: –†–∞—Å—à–∏—Ä–µ–Ω–∏—è üîÑ (–ß–∞—Å—Ç–∏—á–Ω–æ)
- [ ] –ó–∞—Ç–∏—Ä–∫–∞ —Å–æ–ª–æ–¥–∞ (–ø–æ—Ä—Ç –∏–∑ v1.4.0) - —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –µ—Å—Ç—å –≤ types.h, –ª–æ–≥–∏–∫–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- [ ] Hold —Ä–µ–∂–∏–º - —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –µ—Å—Ç—å –≤ types.h, –ª–æ–≥–∏–∫–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- [x] –°–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥-—Ñ—Ä–∞–∫—Ü–∏–æ–Ω–Ω–∏–∫ (drivers/valves.cpp, initFractionator)
- [x] –ö–ª–∞–ø–∞–Ω —Å—Ç–∞—Ä—Ç-—Å—Ç–æ–ø –®–ò–ú (drivers/valves.cpp, PIN_VALVE_STARTSTOP)

### –§–∞–∑–∞ 5: –ü–æ–ª–∏—Ä–æ–≤–∫–∞ ‚úÖ (–ó–∞–≤–µ—Ä—à–µ–Ω–æ)
- [x] OTA –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (interface/ota.cpp)
- [x] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ SPIFFS (storage/logger.cpp)
- [x] –≠–∫—Å–ø–æ—Ä—Ç CSV (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ history.cpp, logger.cpp)
- [x] –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (history.cpp/h) - –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- [x] –ü—Ä–æ—Ñ–∏–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (profiles.cpp/h) - –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- [x] MQTT & Home Assistant (interface/mqtt.cpp)
- [x] HTTP Basic Auth & Rate Limiting (interface/security.cpp)
- [x] mDNS (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ main.cpp)
- [x] WatchDog Timer (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ main.cpp)
- [ ] –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ —á–µ—Ä–µ–∑ UI - —á–∞—Å—Ç–∏—á–Ω–æ (—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –µ—Å—Ç—å, –ø–æ–ª–Ω—ã–π UI –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω)

---

## 15. –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑

| –§—É–Ω–∫—Ü–∏—è | HelloDistiller | –ë–ö–£-07/09 | Pervak 4.2 | **S3** |
|---------|----------------|-----------|------------|--------|
| –§—Ä–∞–∫—Ü–∏–æ–Ω–Ω–∏–∫ —Å–µ—Ä–≤–æ | ‚úì | ‚Äî | ‚Äî | ‚úì (5 –ø–æ–∑.) |
| –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π –∞—Ä–µ–æ–º–µ—Ç—Ä | ‚Äî | –≠–¢–°-223 | ‚Äî | ‚úì MPX5010 |
| Watt-Control | Auto+–®–ò–ú | ‚Äî | ‚Äî | ‚úì |
| Smart Decrement | ‚Äî | ‚Äî | ‚úì | ‚úì |
| –î–∞—Ç—á–∏–∫ –ø–æ—Ç–æ–∫–∞ –≤–æ–¥—ã | ‚Äî | ‚Äî | ‚Äî | ‚úì |
| –î–∞—Ç—á–∏–∫ —É—Ä–æ–≤–Ω—è | ‚úì | ‚úì | ‚Äî | ‚úì (–æ–ø—Ü–∏—è) |
| Web UI | ‚úì | ‚Äî | ‚Äî | ‚úì –∞–Ω–∏–º–∞—Ü–∏—è |
| Telegram | ‚Äî | ‚Äî | ‚Äî | ‚úì |
| MQTT / Home Assistant | ‚Äî | ‚Äî | ‚Äî | ‚úì Discovery |
| –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è | ‚Äî | ‚Äî | ‚Äî | ‚úì Basic Auth |
| Rate Limiting | ‚Äî | ‚Äî | ‚Äî | ‚úì |
| OTA | ‚Äî | ‚Äî | ‚Äî | ‚úì |
| –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ | ‚Äî | ‚Äî | ‚Äî | ‚úì SPIFFS |
| –ó–∞—Ç–∏—Ä–∫–∞ —Å–æ–ª–æ–¥–∞ | ‚Äî | ‚Äî | ‚Äî | ‚úì |
| –ê–≤—Ç–æ–∫–æ—Ä—Ä–µ–∫—Ü–∏—è –∞—Ç–º. | ‚Äî | ‚Äî | ‚úì | ‚úì BMP280 |

---

## 16. –ü–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è (Roadmap)

### –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è: v1.4.9 ‚úÖ

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ v1.2:** ‚úÖ
- [x] MQTT & Home Assistant Integration —Å –∞–≤—Ç–æ–æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ–º
- [x] HTTP Basic Authentication
- [x] Rate Limiting (–∑–∞—â–∏—Ç–∞ –æ—Ç DDoS)
- [x] PZEM-004T –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —ç–Ω–µ—Ä–≥–∏–∏
- [x] –£–ª—É—á—à–µ–Ω–Ω–∞—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞ –Ω–∞—Å–æ—Å–∞ —Å –≤—ã–±–æ—Ä–æ–º —Å–∫–æ—Ä–æ—Å—Ç–µ–π
- [x] Telegram Bot
- [x] WatchDog Timer
- [x] mDNS

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ v1.3:**
- [x] üìà **–ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤** (v1.3.0)
  - [x] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ SPIFFS (JSON —Ñ–æ—Ä–º–∞—Ç) - history.cpp
  - [x] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è (–¥–æ 50 –ø—Ä–æ—Ü–µ—Å—Å–æ–≤) - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
  - [x] –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
  - [x] –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º–∏ –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ (ApexCharts) - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

- [x] üìä **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤** (v1.3.1)
  - [x] –í—ã–±–æ—Ä 2-5 –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
  - [x] –ù–∞–ª–æ–∂–µ–Ω–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä –∏ –º–æ—â–Ω–æ—Å—Ç–∏ - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
  - [x] –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –º–µ—Ç—Ä–∏–∫ - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
  - [x] –¶–≤–µ—Ç–æ–≤–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

- [x] üì§ **–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö** (v1.3.0)
  - [x] CSV export –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
  - [x] JSON export –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
  - [x] –≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ–π –∏—Å—Ç–æ—Ä–∏–∏ –≤ JSON - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
  - [x] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

- [x] üîî **Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** (v1.3.2)
  - [x] MQTT —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ Home Assistant - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
  - [x] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–º–µ–Ω–µ —Ñ–∞–∑ –ø—Ä–æ—Ü–µ—Å—Å–∞ - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
  - [x] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏/–æ—Å—Ç–∞–Ω–æ–≤–∫–µ - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
  - [x] –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∞–ª–µ—Ä—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
  - [x] Sensor "Last Notification" –≤ HA Discovery - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ v1.4+ (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ):**
- [x] üìö **–ü—Ä–æ—Ñ–∏–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤** (profiles.cpp/h)
  - [x] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–π –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤ SPIFFS
  - [x] –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã
  - [x] –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—Ä–æ—Ñ–∏–ª–µ–π (—Ä–µ–∫—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –¥–∏—Å—Ç–∏–ª–ª—è—Ü–∏—è, –∑–∞—Ç–∏—Ä–∫–∞)
  - [x] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª–µ–π
  - [x] –ò–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç –ø—Ä–æ—Ñ–∏–ª–µ–π (JSON)

**API endpoints:**
```
GET    /api/history                      - –°–ø–∏—Å–æ–∫ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
GET    /api/history/{id}                 - –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
GET    /api/history/{id}/export?format   - –≠–∫—Å–ø–æ—Ä—Ç (JSON/CSV)
DELETE /api/history/{id}                 - –£–¥–∞–ª–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
DELETE /api/history/clear                - –û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é
```

**MQTT —Ç–æ–ø–∏–∫–∏:**
```
smartcolumn/{deviceId}/notification      - Sensor –¥–ª—è HA
smartcolumn/{deviceId}/notify            - –î–ª—è notify service
```

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- [HISTORY_SCHEMA.md](docs/HISTORY_SCHEMA.md) - —Ñ–æ—Ä–º–∞—Ç —Ö—Ä–∞–Ω–µ–Ω–∏—è
- [HOME_ASSISTANT.md](docs/HOME_ASSISTANT.md) - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- [CHANGELOG.md](CHANGELOG.md) - –ø–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

### v1.4 - –ü—Ä–æ—Ñ–∏–ª–∏ –∏ —Ä–µ—Ü–µ–ø—Ç—ã üìù ‚úÖ (–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)

**–¶–µ–ª—å:** –ü–æ–≤—Ç–æ—Ä—è–µ–º–æ—Å—Ç—å –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- [x] üéØ **–ü—Ä–æ—Ñ–∏–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤** (profiles.cpp/h)
  - [x] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–æ–¥ –∏–º–µ–Ω–µ–º
  - [x] –ö–∞—Ç–µ–≥–æ—Ä–∏–∏: –†–µ–∫—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –î–∏—Å—Ç–∏–ª–ª—è—Ü–∏—è, –ó–∞—Ç–∏—Ä–∫–∞
  - [ ] –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è –æ–¥–Ω–æ–π –∫–Ω–æ–ø–∫–æ–π - API –µ—Å—Ç—å, UI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
  - [x] –ò–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç –ø—Ä–æ—Ñ–∏–ª–µ–π (JSON)

- [x] üîÑ **–ü–æ–≤—Ç–æ—Ä—è–µ–º—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã**
  - [x] –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Ä–µ—Ü–µ–ø—Ç–æ–≤ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏)
    - [x] –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–µ —Ä–µ–∂–∏–º—ã
    - [x] –û–±—ä–µ–º—ã —Ñ—Ä–∞–∫—Ü–∏–π
    - [x] –°–∫–æ—Ä–æ—Å—Ç–∏ –æ—Ç–±–æ—Ä–∞
    - [x] –ú–æ—â–Ω–æ—Å—Ç—å –Ω–∞–≥—Ä–µ–≤–∞
  - [x] –®–∞–±–ª–æ–Ω—ã –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (loadBuiltinProfiles)
  - [x] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ä–µ—Ü–µ–ø—Ç—ã

- [x] üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø—Ä–æ—Ñ–∏–ª—è–º**
  - [x] –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—É—Å–∫–æ–≤ (ProfileStatistics.useCount)
  - [x] –°—Ä–µ–¥–Ω–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ (–≤—Ä–µ–º—è, –≤—ã—Ö–æ–¥ –ø—Ä–æ–¥—É–∫—Ç–∞)
  - [x] –†–µ–π—Ç–∏–Ω–≥ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ (ProfileStatistics.successRate)

**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
```
Web UI: –ù–æ–≤–∞—è –≤–∫–ª–∞–¥–∫–∞ "üìö –ü—Ä–æ—Ñ–∏–ª–∏" - ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- [x] –°–ø–∏—Å–æ–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π (API —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω)
- [ ] –ö–Ω–æ–ø–∫–∏: –°–æ–∑–¥–∞—Ç—å, –ó–∞–≥—Ä—É–∑–∏—Ç—å, –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å, –£–¥–∞–ª–∏—Ç—å (UI –Ω–µ –∑–∞–≤–µ—Ä—à—ë–Ω)
- [ ] –ü—Ä–µ–≤—å—é –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–æ—Ñ–∏–ª—è (UI –Ω–µ –∑–∞–≤–µ—Ä—à—ë–Ω)
```

**API endpoints:** ‚úÖ (–í—Å–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ profiles.cpp)
```
GET  /api/profiles          - –°–ø–∏—Å–æ–∫ –ø—Ä–æ—Ñ–∏–ª–µ–π ‚úÖ
POST /api/profiles          - –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å ‚úÖ
GET  /api/profiles/{id}     - –î–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª—è ‚úÖ
PUT  /api/profiles/{id}     - –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å ‚úÖ
DEL  /api/profiles/{id}     - –£–¥–∞–ª–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å ‚úÖ
POST /api/profiles/{id}/load - –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å ‚úÖ
```

---

### v1.5 - UI/UX —É–ª—É—á—à–µ–Ω–∏—è üé®

**–¶–µ–ª—å:** –£–ª—É—á—à–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- üì± **–ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**
  - Platform: Flutter (iOS + Android)
  - –ü–æ–ª–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª Web UI
  - Native push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
  - Offline —Ä–µ–∂–∏–º (–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö)
  - –ë–∏–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

- üé® **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ–º—ã**
  - –°–≤–µ—Ç–ª–∞—è, –¢–µ–º–Ω–∞—è (‚úÖ —É–∂–µ –µ—Å—Ç—å)
  - –í—ã—Å–æ–∫–æ–∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–∞—è (–¥–ª—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏)
  - –°–∏–Ω—è—è (—Ö–æ–ª–æ–¥–Ω–∞—è)
  - –Ø–Ω—Ç–∞—Ä–Ω–∞—è (—Ä–µ—Ç—Ä–æ)
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ü–≤–µ—Ç–æ–≤—ã–µ —Å—Ö–µ–º—ã

- üåç **–ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å (i18n)**
  - –†—É—Å—Å–∫–∏–π (‚úÖ –æ—Å–Ω–æ–≤–Ω–æ–π)
  - English
  - Deutsch
  - Polski
  - –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —è–∑—ã–∫–∞ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
  - –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ –±—Ä–∞—É–∑–µ—Ä–∞

- üîß **–£–ª—É—á—à–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞**
  - –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω (–ø–ª–∞–Ω—à–µ—Ç—ã, —Ç–µ–ª–µ—Ñ–æ–Ω—ã)
  - –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
  - –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (shortcuts)
  - –ì–æ–ª–æ—Å–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤:**
```
/data/lang/
  ‚îú‚îÄ‚îÄ ru.json
  ‚îú‚îÄ‚îÄ en.json
  ‚îú‚îÄ‚îÄ de.json
  ‚îî‚îÄ‚îÄ pl.json
```

---

### v2.0 - –û–±–ª–∞–∫–æ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è ‚òÅÔ∏è

**–¶–µ–ª—å:** –£–¥–∞–ª–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- ‚òÅÔ∏è **–û–±–ª–∞—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ**
  - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
  - Backup –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏ –ø—Ä–æ—Ñ–∏–ª–µ–π
  - –î–æ—Å—Ç—É–ø –∏–∑ –ª—é–±–æ–π —Ç–æ—á–∫–∏ –º–∏—Ä–∞
  - –ü–ª–∞—Ç—Ñ–æ—Ä–º—ã: Firebase / AWS / —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
  - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (privacy-first –ø–æ–¥—Ö–æ–¥)

- üìß **Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**
  - –û—Ç—á–µ—Ç—ã –æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö
  - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∞–ª–µ—Ä—Ç—ã
  - –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SMTP —Å–µ—Ä–≤–µ—Ä–∞ –≤ Web UI

- ü§ñ **Machine Learning –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**
  - –ê–Ω–∞–ª–∏–∑ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
  - –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
  - –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ —Ñ–∞–∑
  - –ê–≤—Ç–æ–ø–æ–¥–±–æ—Ä –º–æ—â–Ω–æ—Å—Ç–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –ø–µ—Ä–µ–≥–æ–Ω–æ–≤
  - –ú–æ–¥–µ–ª—å: TensorFlow Lite for Microcontrollers

- üí¨ **WhatsApp/Viber –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**
  - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä—ã
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Twilio API

**–û–±–ª–∞—á–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```
ESP32 ‚Üí MQTT ‚Üí Cloud MQTT Broker ‚Üí Dashboard Web App
                  ‚Üì
              Cloud Storage (–∏—Å—Ç–æ—Ä–∏—è, –ø—Ä–æ—Ñ–∏–ª–∏)
                  ‚Üì
              ML Service (–∞–Ω–∞–ª–∏–∑ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏)
```

---

### v2.1 - –£–º–Ω—ã–π –¥–æ–º++ üè†

**–¶–µ–ª—å:** –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —ç–∫–æ—Å–∏—Å—Ç–µ–º–æ–π —É–º–Ω–æ–≥–æ –¥–æ–º–∞

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- üó£Ô∏è **Alexa / Google Home**
  - –ì–æ–ª–æ—Å–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã
    - "Alexa, –∑–∞–ø—É—Å—Ç–∏ —Ä–µ–∫—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é"
    - "–û–∫–µ–π Google, –∫–∞–∫–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤ –∫—É–±–µ?"
    - "Alexa, –æ—Å—Ç–∞–Ω–æ–≤–∏ –ø—Ä–æ—Ü–µ—Å—Å"
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Home Assistant Cloud
  - Custom Skills / Actions

- üì∏ **–§–æ—Ç–æ/–í–∏–¥–µ–æ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
  - ESP32-CAM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  - –¢–∞–π–º–ª–∞–ø—Å –ø—Ä–æ—Ü–µ—Å—Å–∞
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–Ω–∏–º–∫–∏ –ø—Ä–∏ —Å–º–µ–Ω–µ —Ñ–∞–∑
  - –ó–∞–≥—Ä—É–∑–∫–∞ –≤ –æ–±–ª–∞–∫–æ / –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ
  - –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —É—Ä–æ–≤–Ω—è –∂–∏–¥–∫–æ—Å—Ç–∏ (Computer Vision)

- üîî **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Notion
  - Discord webhooks
  - Slack notifications
  - IFTTT / Zapier –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

- üéõÔ∏è **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏**
  - –ú—É–ª—å—Ç–∏-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Ä–µ–∂–∏–º
  - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
  - –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
  - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–ª–æ–Ω–Ω

---

### v2.2+ - –ü–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ üöÄ

**–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —Ü–µ–ª–∏:**
- üß™ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥–∞—Ç—á–∏–∫–∞–º–∏ –∫–∞—á–µ—Å—Ç–≤–∞**
  - –°–ø–∏—Ä—Ç–æ–º–µ—Ç—Ä –æ–Ω–ª–∞–π–Ω (–æ–ø—Ç–∏—á–µ—Å–∫–∏–π/–µ–º–∫–æ—Å—Ç–Ω–æ–π)
  - pH –º–µ—Ç—Ä
  - –î–∞—Ç—á–∏–∫ –º–µ—Ç–∞–Ω–æ–ª–∞ (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)

- üå°Ô∏è **–ü—Ä–µ–¥–∏–∫—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**
  - –ü—Ä–æ–≥–Ω–æ–∑ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä –Ω–∞ –æ—Å–Ω–æ–≤–µ ML
  - –£–ø—Ä–µ–∂–¥–∞—é—â–µ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ—â–Ω–æ—Å—Ç—å—é
  - –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –∑–∞—Ö–ª–µ–±–∞

- üî¨ **–ù–∞—É—á–Ω—ã–π —Ä–µ–∂–∏–º**
  - –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (100 Hz)
  - –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –≥—Ä–∞—Ñ–∏–∫–∏
  - –≠–∫—Å–ø–æ—Ä—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤ MATLAB/Python

- üåê **Community –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞**
  - –û–±–º–µ–Ω —Ä–µ—Ü–µ–ø—Ç–∞–º–∏ –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
  - –†–µ–π—Ç–∏–Ω–≥–∏ –∏ –æ—Ç–∑—ã–≤—ã
  - –§–æ—Ä—É–º –∏ –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π

---

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

| –í–µ—Ä—Å–∏—è | –°—Ä–æ–∫–∏ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°–ª–æ–∂–Ω–æ—Å—Ç—å |
|--------|-------|-----------|-----------|
| v1.3   | Q1 2026 | –í—ã—Å–æ–∫–∏–π | –°—Ä–µ–¥–Ω—è—è |
| v1.4   | Q2 2026 | –í—ã—Å–æ–∫–∏–π | –°—Ä–µ–¥–Ω—è—è |
| v1.5   | Q3 2026 | –°—Ä–µ–¥–Ω–∏–π | –í—ã—Å–æ–∫–∞—è |
| v2.0   | Q4 2026 | –°—Ä–µ–¥–Ω–∏–π | –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è |
| v2.1   | Q1 2027 | –ù–∏–∑–∫–∏–π | –í—ã—Å–æ–∫–∞—è |

---

## –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ A: –°—Ö–µ–º–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

```
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ          ESP32-S3 N16R8             ‚îÇ
                    ‚îÇ                                     ‚îÇ
     DS18B20 √ó7 ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ GPIO4 (OneWire + 4.7kŒ© pullup)     ‚îÇ
                    ‚îÇ                                     ‚îÇ
    BMP280 #1/2 ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ GPIO21 (SDA) ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ I2C Bus         ‚îÇ
      ADS1115   ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ GPIO9 (SCL) ‚îÄ‚îÄ‚îÄ‚îò (GPIO22 –Ω–µ—Ç –Ω–∞ S3)‚îÇ
                    ‚îÇ                                     ‚îÇ
     MPX5010DP ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ ADS1115 A0                         ‚îÇ
                    ‚îÇ                                     ‚îÇ
    SSR-40DA ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ GPIO5 (—á–µ—Ä–µ–∑ PC817)                ‚îÇ
                    ‚îÇ                                     ‚îÇ
   TMC2209 STEP ‚óÑ‚îÄ‚îÄ‚îÄ‚î§ GPIO6                              ‚îÇ
   TMC2209 DIR  ‚óÑ‚îÄ‚îÄ‚îÄ‚î§ GPIO7                              ‚îÇ
   TMC2209 EN   ‚óÑ‚îÄ‚îÄ‚îÄ‚î§ GPIO15                             ‚îÇ
                    ‚îÇ                                     ‚îÇ
  –ö–ª–∞–ø–∞–Ω –≤–æ–¥—ã  ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ GPIO16 (MOSFET)                    ‚îÇ
  –ö–ª–∞–ø–∞–Ω –≥–æ–ª–æ–≤ ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ GPIO17 (MOSFET)                    ‚îÇ
  –ö–ª–∞–ø–∞–Ω –£–ù–û   ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ GPIO18 (MOSFET)                    ‚îÇ
                    ‚îÇ                                     ‚îÇ
  –°–µ—Ä–≤–æ MG996R ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ GPIO8 (PWM 50Hz) [–æ–ø—Ü–∏—è]           ‚îÇ
  –ö–ª–∞–ø–∞–Ω —Å—Ç–∞—Ä—Ç ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ GPIO14 (–®–ò–ú) [–æ–ø—Ü–∏—è]               ‚îÇ
                    ‚îÇ                                     ‚îÇ
   PZEM-004T RX ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ GPIO44 (UART0 RX)                  ‚îÇ
   PZEM-004T TX ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ GPIO43 (UART0 TX)                  ‚îÇ
      YF-S201   ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ GPIO3 (—Å—á—ë—Ç—á–∏–∫ –∏–º–ø—É–ª—å—Å–æ–≤)          ‚îÇ
                    ‚îÇ                                     ‚îÇ
      –ó—É–º–º–µ—Ä   ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ GPIO38                             ‚îÇ
     –ö–Ω–æ–ø–∫–∞ 1  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ GPIO0 (Boot)                       ‚îÇ
     –ö–Ω–æ–ø–∫–∏ 2-4 ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ GPIO10, 11, 12                     ‚îÇ
                    ‚îÇ                                     ‚îÇ
     TFT 3.5"  ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ SPI (MOSI, CLK, CS, DC, RST)       ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ B: –§–æ—Ä–º—É–ª—ã

### –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π –∞—Ä–µ–æ–º–µ—Ç—Ä

```
ŒîP = P_–Ω–∏–∑ - P_–≤–µ—Ä—Ö  (—Å—Ç–æ–ª–± –∂–∏–¥–∫–æ—Å—Ç–∏ –≤ –ø–æ–ø—É–≥–∞–µ)

œÅ = ŒîP / (g √ó h)

–≥–¥–µ:
  g = 9.81 –º/—Å¬≤
  h = –≤—ã—Å–æ—Ç–∞ —Å—Ç–æ–ª–±–∞ (–º)

ABV = f(œÅ, T)  ‚Äî —Ç–∞–±–ª–∏—á–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è —Å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω–æ–π –∫–æ—Ä—Ä–µ–∫—Ü–∏–µ–π
```

### –ö–æ—Ä—Ä–µ–∫—Ü–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –∫–∏–ø–µ–Ω–∏—è

```
T_–∫–∏–ø = 100 - (101325 - P_atm) / 3500

–≥–¥–µ P_atm –≤ –ü–∞ (–æ—Ç BMP280)
```

### –û–±—ä—ë–º –æ—Ç–±–æ—Ä–∞

```
V = –æ–±–æ—Ä–æ—Ç—ã √ó –º–ª_–Ω–∞_–æ–±–æ—Ä–æ—Ç

–°–∫–æ—Ä–æ—Å—Ç—å = ŒîV / Œît (–º–ª/—á–∞—Å)
```

### –ò–∑–º–µ—Ä–µ–Ω–∏–µ –º–æ—â–Ω–æ—Å—Ç–∏ (PZEM-004T v3.0)

```
PZEM-004T - —Ü–∏—Ñ—Ä–æ–≤–æ–π –∏–∑–º–µ—Ä–∏—Ç–µ–ª—å –º–æ—â–Ω–æ—Å—Ç–∏ —Å UART –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.

–í—ã—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - –ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ: 80-260V AC
  - –¢–æ–∫: 0-100A (—Å –≤–Ω–µ—à–Ω–∏–º CT)
  - –ú–æ—â–Ω–æ—Å—Ç—å: 0-23kW
  - –≠–Ω–µ—Ä–≥–∏—è: 0-9999.99kWh
  - –ß–∞—Å—Ç–æ—Ç–∞: 45-65Hz
  - –ö–æ—ç—Ñ—Ñ. –º–æ—â–Ω–æ—Å—Ç–∏: 0-1.0

–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:
  - –ö–æ–Ω—Ç—Ä–æ–ª—å —Ä–µ–∞–ª—å–Ω–æ–π –º–æ—â–Ω–æ—Å—Ç–∏ vs –∑–∞–¥–∞–Ω–Ω–æ–π
  - –î–µ—Ç–µ–∫—Ü–∏—è –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏ –¢–≠–ù–∞
  - Watt-Control —Å –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑—å—é
  - –£—á—ë—Ç —ç–Ω–µ—Ä–≥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è
```

---

*–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω: 2025-12-02*  
*–ê–≤—Ç–æ—Ä: Smart-Column S3 Development Team*
