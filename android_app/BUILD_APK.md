# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Å–±–æ—Ä–∫–µ APK

## ‚ö†Ô∏è –ï—Å–ª–∏ Flutter SDK –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

**–°–Ω–∞—á–∞–ª–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Flutter SDK!** –°–º. –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é: [FLUTTER_SETUP.md](FLUTTER_SETUP.md)

## –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Flutter SDK

üìñ **–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** [FLUTTER_SETUP.md](FLUTTER_SETUP.md)

–ö—Ä–∞—Ç–∫–æ:
1. –°–∫–∞—á–∞–π—Ç–µ Flutter SDK —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞: https://flutter.dev/docs/get-started/install/windows
2. –†–∞—Å–ø–∞–∫—É–π—Ç–µ –∞—Ä—Ö–∏–≤ –≤ —É–¥–æ–±–Ω–æ–µ –º–µ—Å—Ç–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `C:\src\flutter`)
3. –î–æ–±–∞–≤—å—Ç–µ Flutter –≤ PATH (—Å–º. [FLUTTER_SETUP.md](FLUTTER_SETUP.md) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π)
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É:
   ```powershell
   flutter doctor
   ```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Android SDK

Flutter —Ç—Ä–µ–±—É–µ—Ç Android SDK –¥–ª—è —Å–±–æ—Ä–∫–∏ APK. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:

**–í–∞—Ä–∏–∞–Ω—Ç 1: Android Studio (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
- –°–∫–∞—á–∞–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Android Studio: https://developer.android.com/studio
- –ü—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –≤—ã–±–µ—Ä–∏—Ç–µ "Android SDK", "Android SDK Platform", "Android Virtual Device"
- Android Studio –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç Android SDK

**–í–∞—Ä–∏–∞–Ω—Ç 2: –¢–æ–ª—å–∫–æ Android SDK (–±–µ–∑ Android Studio)**
- –°–∫–∞—á–∞–π—Ç–µ Android SDK Command Line Tools
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã:
  - `ANDROID_HOME` = –ø—É—Ç—å –∫ Android SDK
  - –î–æ–±–∞–≤—å—Ç–µ `%ANDROID_HOME%\platform-tools` –≤ PATH

5. –ü—Ä–∏–º–∏—Ç–µ –ª–∏—Ü–µ–Ω–∑–∏–∏ Android SDK:
   ```powershell
   flutter doctor --android-licenses
   ```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

```powershell
flutter doctor -v
```

–î–æ–ª–∂–Ω—ã –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
- ‚úÖ Flutter (Channel stable)
- ‚úÖ Android toolchain
- ‚úÖ Android Studio (–∏–ª–∏ VS Code)
- ‚úÖ Connected device (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

## –°–±–æ—Ä–∫–∞ APK

### –ë—ã—Å—Ç—Ä–∞—è —Å–±–æ—Ä–∫–∞ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç)

```powershell
cd android_app
.\build_apk.ps1
```

### –†—É—á–Ω–∞—è —Å–±–æ—Ä–∫–∞

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
   ```powershell
   cd android_app
   ```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```powershell
   flutter pub get
   ```

3. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã JSON —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏:
   ```powershell
   flutter pub run build_runner build --delete-conflicting-outputs
   ```

4. –°–æ–±–µ—Ä–∏—Ç–µ APK:

   **Debug –≤–µ—Ä—Å–∏—è** (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è):
   ```powershell
   flutter build apk --debug
   ```
   –§–∞–π–ª –±—É–¥–µ—Ç –≤: `build\app\outputs\flutter-apk\app-debug.apk`

   **Release –≤–µ—Ä—Å–∏—è** (–¥–ª—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è):
   ```powershell
   flutter build apk --release
   ```
   –§–∞–π–ª –±—É–¥–µ—Ç –≤: `build\app\outputs\flutter-apk\app-release.apk`

## –†–∞–±–æ—Ç–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±–µ–∑ ESP32

‚úÖ **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ú–û–ñ–ï–¢ —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ ESP32!**

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
- –ï—Å–ª–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —ç–∫—Ä–∞–Ω "–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ"
- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É –±—É–¥—É—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è –æ—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- –í—Å–µ UI —ç–ª–µ–º–µ–Ω—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ (–ø—Ä–æ—Ñ–∏–ª–∏, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –∏—Å—Ç–æ—Ä–∏—è –∏ —Ç.–¥.)

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –±–µ–∑ ESP32:
- ‚ùå –ù–µ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å –¥–∞—Ç—á–∏–∫–æ–≤
- ‚ùå –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–º
- ‚ùå –ù–µ—Ç WebSocket –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- ‚úÖ –ú–æ–∂–Ω–æ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ –ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª–∏ (—Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ)
- ‚úÖ –ú–æ–∂–Ω–æ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é (–µ—Å–ª–∏ –µ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)

## –†–∞–∑–º–µ—Ä APK

- Debug APK: ~50-80 MB
- Release APK: ~20-30 MB (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ APK –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ

1. –í–∫–ª—é—á–∏—Ç–µ "–û—Ç–ª–∞–¥–∫–∞ –ø–æ USB" –Ω–∞ Android —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∫ –∫–æ–º–ø—å—é—Ç–µ—Ä—É
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ APK:
   ```powershell
   flutter install
   ```
   –ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
   ```powershell
   adb install build\app\outputs\flutter-apk\app-release.apk
   ```

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞: "Flutter not found"
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Flutter –¥–æ–±–∞–≤–ª–µ–Ω –≤ PATH
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ PATH

### –û—à–∏–±–∫–∞: "Android licenses not accepted"
```powershell
flutter doctor --android-licenses
```
–ü—Ä–∏–º–∏—Ç–µ –≤—Å–µ –ª–∏—Ü–µ–Ω–∑–∏–∏, –Ω–∞–∂–∏–º–∞—è `y`

### –û—à–∏–±–∫–∞: "Missing .g.dart files"
–ó–∞–ø—É—Å—Ç–∏—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é:
```powershell
flutter pub run build_runner build --delete-conflicting-outputs
```

### –û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ Kotlin/Java
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Android SDK
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é Java (—Ç—Ä–µ–±—É–µ—Ç—Å—è Java 8+)

### APK –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç 64-bit (arm64-v8a)
- –í–∫–ª—é—á–∏—Ç–µ "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–∑ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤" –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Android

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è Android: 5.0 (API 21)
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: arm64-v8a (64-bit)
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –≤–µ—Ä—Å–∏—è Android: 8.0+ (API 26)


