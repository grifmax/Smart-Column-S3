# Smart-Column S3 - –í–µ–±-–ø—Ä–æ–∫—Å–∏ –Ω–∞ spiritcontrol.ru

## üéØ –ß—Ç–æ —ç—Ç–æ?

–í–µ–±-–ø—Ä–æ–∫—Å–∏, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É ESP32 —á–µ—Ä–µ–∑ spiritcontrol.ru. –í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ—á–Ω–æ —Ç–∞–∫ –∂–µ, –∫–∞–∫ –ø—Ä–∏ –ø—Ä—è–º–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ ESP32 –ø–æ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏.

## ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –ü–æ–ª–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ESP32 —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç
- ‚úÖ –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö API –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ ESP32
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ ESP32 —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ HTTP Basic Authentication
- ‚úÖ –í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∏–¥–µ–Ω—Ç–∏—á–Ω–æ –ª–æ–∫–∞–ª—å–Ω–æ–º—É –¥–æ—Å—Ç—É–ø—É

## üöÄ –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ–±-—Ñ–∞–π–ª—ã

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é web
mkdir -p cloud_proxy/web

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –∏–∑ data/
cp -r data/* cloud_proxy/web/
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç:
```bash
php cloud_proxy/copy_web_files.php
```

### 2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä

–ó–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–∞ spiritcontrol.ru:
- `proxy.php`
- `esp32_settings.php`
- `.htaccess`
- `web/` (–≤—Å—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è)

### 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ ESP32

1. –û—Ç–∫—Ä–æ–π—Ç–µ `https://spiritcontrol.ru/esp32_settings.php`
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ:
   - **–í–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ**: ‚úÖ
   - **IP –∞–¥—Ä–µ—Å ESP32**: –Ω–∞–ø—Ä–∏–º–µ—Ä `192.168.1.100`
   - **–ü–æ—Ä—Ç**: –æ–±—ã—á–Ω–æ `80`
   - **–õ–æ–≥–∏–Ω/–ü–∞—Ä–æ–ª—å**: –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞ ESP32
3. –ù–∞–∂–º–∏—Ç–µ "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ"
4. –ù–∞–∂–º–∏—Ç–µ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"

### 4. –ì–æ—Ç–æ–≤–æ!

–û—Ç–∫—Ä–æ–π—Ç–µ `https://spiritcontrol.ru/` - –≤—ã —É–≤–∏–¥–∏—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ESP32!

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ ESP32

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Å–µ—Ç—å

–ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä spiritcontrol.ru –∏ ESP32 –≤ –æ–¥–Ω–æ–π —Å–µ—Ç–∏:
- **IP –∞–¥—Ä–µ—Å**: –ª–æ–∫–∞–ª—å–Ω—ã–π IP ESP32 (–Ω–∞–ø—Ä–∏–º–µ—Ä, `192.168.1.100`)
- **–ü–æ—Ä—Ç**: `80`

### –ß–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç

–î–ª—è –¥–æ—Å—Ç—É–ø–∞ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç:

1. **VPN** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ VPN —Å–µ—Ä–≤–µ—Ä
   - –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä spiritcontrol.ru –∫ VPN
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ VPN IP ESP32

2. **–¢—É–Ω–Ω–µ–ª—å** (ngrok, cloudflare):
   - –°–æ–∑–¥–∞–π—Ç–µ —Ç—É–Ω–Ω–µ–ª—å –∫ ESP32
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π URL

## üì± –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–æ—Å—Ç—É–ø –∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É

```
https://spiritcontrol.ru/
```

–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç:
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–º
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞
- –ì—Ä–∞—Ñ–∏–∫–∏ –∏ –∏—Å—Ç–æ—Ä–∏—è
- –ò —Ç.–¥.

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ESP32

```
https://spiritcontrol.ru/esp32_settings.php
```

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

### WebSocket

WebSocket —Ç—Ä–µ–±—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞ (nginx/apache proxy). –ë–µ–∑ —ç—Ç–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —á–µ—Ä–µ–∑ HTTP polling (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã).

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ VPN –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ ESP32
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –Ω–∞ ESP32
4. –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤ –±–µ–∑ –∑–∞—â–∏—Ç—ã

## ‚ùì –ü—Ä–æ–±–ª–µ–º—ã

### 503 "ESP32 not configured"

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `esp32_settings.php`

### 502 "ESP32 connection error"

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ ESP32 –¥–æ—Å—Ç—É–ø–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ IP –∞–¥—Ä–µ—Å –∏ –ø–æ—Ä—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç—å –º–µ–∂–¥—É —Å–µ—Ä–≤–µ—Ä–æ–º –∏ ESP32

### WebSocket –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ nginx/apache –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTP polling

---

**–ì–æ—Ç–æ–≤–æ!** –ü–æ–ª–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ESP32 —á–µ—Ä–µ–∑ spiritcontrol.ru! üéâ

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `WEB_PROXY_SETUP.md`

