# Smart-Column S3 ‚Äî –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Home Assistant

**–í–µ—Ä—Å–∏—è:** 1.2+
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-12-06

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
2. [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
3. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ MQTT –±—Ä–æ–∫–µ—Ä–∞](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-mqtt-–±—Ä–æ–∫–µ—Ä–∞)
4. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞)
5. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Home Assistant](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-home-assistant)
6. [–ü—Ä–∏–º–µ—Ä—ã –ø–∞–Ω–µ–ª–µ–π —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è](#–ø—Ä–∏–º–µ—Ä—ã-–ø–∞–Ω–µ–ª–µ–π-—É–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
7. [–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏](#–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏)
8. [Energy Dashboard](#energy-dashboard)
9. [–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º](#—Ä–µ—à–µ–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º)

---

## –û–±–∑–æ—Ä

Smart-Column S3 –ª–µ–≥–∫–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å Home Assistant —á–µ—Ä–µ–∑ –ø—Ä–æ—Ç–æ–∫–æ–ª MQTT Discovery. –ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—Å–µ –¥–∞—Ç—á–∏–∫–∏ –∏ —Å—É—â–Ω–æ—Å—Ç–∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîç **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ** - –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—É—â–Ω–æ—Å—Ç–µ–π
- üìä **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** - –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, –º–æ—â–Ω–æ—Å—Ç—å, —ç–Ω–µ—Ä–≥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ
- ‚ö° **Energy Dashboard** - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è —ç–Ω–µ—Ä–≥–∏–∏
- üö® **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏** - –û–ø–æ–≤–µ—â–µ–Ω–∏—è –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è
- üì± **–ú–æ–±–∏–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø** - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏–∑ –ª—é–±–æ–≥–æ –º–µ—Å—Ç–∞ —á–µ—Ä–µ–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ HA

---

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ

- Home Assistant (—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∏ —Ä–∞–±–æ—Ç–∞—é—â–∏–π)
- MQTT –ë—Ä–æ–∫–µ—Ä (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è Mosquitto)
- –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ Smart-Column S3 –≤ —Ç–æ–π –∂–µ —Å–µ—Ç–∏
- –°–µ—Ç–µ–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É HA –∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ

- Telegram –±–æ—Ç –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- Node-RED –¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–π

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ MQTT –±—Ä–æ–∫–µ—Ä–∞

### –í–∞—Ä–∏–∞–Ω—Ç 1: –î–æ–ø–æ–ª–Ω–µ–Ω–∏–µ Mosquitto (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Mosquitto Broker**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –î–æ–ø–æ–ª–Ω–µ–Ω–∏—è ‚Üí –ú–∞–≥–∞–∑–∏–Ω –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–π
   - –ù–∞–π–¥–∏—Ç–µ "Mosquitto broker"
   - –ù–∞–∂–º–∏—Ç–µ "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å"

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Mosquitto**

   –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è:
   ```yaml
   logins:
     - username: mqtt_user
       password: –≤–∞—à_–Ω–∞–¥–µ–∂–Ω—ã–π_–ø–∞—Ä–æ–ª—å
   require_certificate: false
   certfile: fullchain.pem
   keyfile: privkey.pem
   ```

3. **–ó–∞–ø—É—Å–∫ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è**
   - –í–∫–ª—é—á–∏—Ç–µ "–ó–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ"
   - –ù–∞–∂–º–∏—Ç–µ "–ó–ê–ü–£–°–¢–ò–¢–¨"

4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∫–ª–∞–¥–∫—É –ñ—É—Ä–Ω–∞–ª –Ω–∞ —É—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫

### –í–∞—Ä–∏–∞–Ω—Ç 2: –í–Ω–µ—à–Ω–∏–π Mosquitto

–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –≤–Ω–µ—à–Ω–∏–π Mosquitto:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Mosquitto
sudo apt-get install mosquitto mosquitto-clients

# –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –ø–∞—Ä–æ–ª–µ–π
sudo mosquitto_passwd -c /etc/mosquitto/passwd mqtt_user

# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo nano /etc/mosquitto/mosquitto.conf
```

–î–æ–±–∞–≤—å—Ç–µ:
```
listener 1883
allow_anonymous false
password_file /etc/mosquitto/passwd
```

–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫:
```bash
sudo systemctl restart mosquitto
```

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

### –î–æ—Å—Ç—É–ø –∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É

1. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: `http://<ip-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞>`
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí MQTT
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã MQTT

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|----------|----------|--------|
| **–í–∫–ª—é—á–∏—Ç—å MQTT** | ‚òë –í–∫–ª—é—á–µ–Ω–æ | |
| **MQTT —Å–µ—Ä–≤–µ—Ä** | IP HA –∏–ª–∏ hostname | `192.168.1.50` –∏–ª–∏ `homeassistant.local` |
| **MQTT –ø–æ—Ä—Ç** | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1883 | `1883` |
| **–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** | –ò–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Mosquitto | `mqtt_user` |
| **–ü–∞—Ä–æ–ª—å** | –ò–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Mosquitto | `–≤–∞—à_–Ω–∞–¥–µ–∂–Ω—ã–π_–ø–∞—Ä–æ–ª—å` |
| **–ë–∞–∑–æ–≤—ã–π —Ç–æ–ø–∏–∫** | –û—Å—Ç–∞–≤—å—Ç–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | `smartcolumn` |
| **–í–∫–ª—é—á–∏—Ç—å Discovery** | ‚òë –í–∫–ª—é—á–µ–Ω–æ | |
| **–ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—É–±–ª–∏–∫–∞—Ü–∏–∏** | 10000 –º—Å (10 —Å–µ–∫) | `10000` |

4. –ù–∞–∂–º–∏—Ç–µ **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**
5. –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ MQTT –±—Ä–æ–∫–µ—Ä—É

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∂—É—Ä–Ω–∞–ª —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:
```
[MQTT] –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ 192.168.1.50:1883...
[MQTT] –£—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ
[MQTT] –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è...
[MQTT] –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ - –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ 6 —Å—É—â–Ω–æ—Å—Ç–µ–π
```

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Home Assistant

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ MQTT

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏ —Å–ª—É–∂–±—ã ‚Üí –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

2. **–î–æ–±–∞–≤–∏—Ç—å MQTT**
   - –ù–∞–∂–º–∏—Ç–µ "+ –î–û–ë–ê–í–ò–¢–¨ –ò–ù–¢–ï–ì–†–ê–¶–ò–Æ"
   - –ù–∞–π–¥–∏—Ç–µ "MQTT"
   - –í—ã–±–µ—Ä–∏—Ç–µ "MQTT"

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è**
   ```
   –ë—Ä–æ–∫–µ—Ä: localhost (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ) –∏–ª–∏ IP –∞–¥—Ä–µ—Å
   –ü–æ—Ä—Ç: 1883
   –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: mqtt_user
   –ü–∞—Ä–æ–ª—å: –≤–∞—à_–Ω–∞–¥–µ–∂–Ω—ã–π_–ø–∞—Ä–æ–ª—å
   ```

4. **–í–∫–ª—é—á–∏—Ç—å –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ**
   - –ü—Ä–µ—Ñ–∏–∫—Å –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è: `homeassistant` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
   - ‚òë –í–∫–ª—é—á–∏—Ç—å –Ω–æ–≤—ã–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏

5. **–û—Ç–ø—Ä–∞–≤–∏—Ç—å**

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è

–ü–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏ —Å–ª—É–∂–±—ã ‚Üí MQTT**

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –Ω–æ–≤–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ:
```
Smart Column abc123
  - –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∫—É–±–∞
  - –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —Ü–∞—Ä–≥–∏ –≤–µ—Ä—Ö
  - –ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ
  - –¢–æ–∫
  - –ú–æ—â–Ω–æ—Å—Ç—å
  - –≠–Ω–µ—Ä–≥–∏—è
  - –ó–¥–æ—Ä–æ–≤—å–µ —Å–∏—Å—Ç–µ–º—ã
```

–ï—Å–ª–∏ –Ω–µ –≤–∏–¥–Ω–æ, —Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª [–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º](#—Ä–µ—à–µ–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º).

---

## –ü—Ä–∏–º–µ—Ä—ã –ø–∞–Ω–µ–ª–µ–π —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ü—Ä–æ—Å—Ç–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è

```yaml
type: entities
title: –°—Ç–∞—Ç—É—Å Smart Column
entities:
  - entity: sensor.smart_column_abc123_cube_temp
    name: –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∫—É–±–∞
  - entity: sensor.smart_column_abc123_column_top
    name: –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —Ü–∞—Ä–≥–∏
  - entity: sensor.smart_column_abc123_voltage
    name: –ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ
  - entity: sensor.smart_column_abc123_power
    name: –ú–æ—â–Ω–æ—Å—Ç—å
  - entity: sensor.smart_column_abc123_health
    name: –ó–¥–æ—Ä–æ–≤—å–µ —Å–∏—Å—Ç–µ–º—ã
```

### –î–∞—Ç—á–∏–∫ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã

```yaml
type: gauge
entity: sensor.smart_column_abc123_cube_temp
name: –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∫—É–±–∞
min: 0
max: 100
severity:
  green: 0
  yellow: 70
  red: 90
needle: true
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–æ—â–Ω–æ—Å—Ç–∏

```yaml
type: vertical-stack
cards:
  - type: gauge
    entity: sensor.smart_column_abc123_power
    name: –¢–µ–∫—É—â–∞—è –º–æ—â–Ω–æ—Å—Ç—å
    min: 0
    max: 5000
    unit: –í—Ç
    severity:
      green: 0
      yellow: 2500
      red: 4000

  - type: sensor
    entity: sensor.smart_column_abc123_energy
    name: –í—Å–µ–≥–æ —ç–Ω–µ—Ä–≥–∏–∏
    graph: line
    detail: 2
```

### –ì—Ä–∞—Ñ–∏–∫ –∏—Å—Ç–æ—Ä–∏–∏

```yaml
type: history-graph
title: –ò—Å—Ç–æ—Ä–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä
hours_to_show: 24
entities:
  - entity: sensor.smart_column_abc123_cube_temp
    name: –ö—É–±
  - entity: sensor.smart_column_abc123_column_top
    name: –¶–∞—Ä–≥–∞ –≤–µ—Ä—Ö
```

### –ü–æ–ª–Ω–∞—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

```yaml
type: vertical-stack
title: ü•É –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Smart Column
cards:
  # –û–±–∑–æ—Ä —Å–æ—Å—Ç–æ—è–Ω–∏—è
  - type: horizontal-stack
    cards:
      - type: gauge
        entity: sensor.smart_column_abc123_cube_temp
        name: –ö—É–±
        min: 0
        max: 100
        severity:
          green: 0
          yellow: 70
          red: 90

      - type: gauge
        entity: sensor.smart_column_abc123_health
        name: –ó–¥–æ—Ä–æ–≤—å–µ
        min: 0
        max: 100
        severity:
          red: 0
          yellow: 50
          green: 80

  # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–æ—â–Ω–æ—Å—Ç–∏
  - type: horizontal-stack
    cards:
      - type: entity
        entity: sensor.smart_column_abc123_voltage
        name: –ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ
        icon: mdi:flash

      - type: entity
        entity: sensor.smart_column_abc123_current
        name: –¢–æ–∫
        icon: mdi:current-ac

      - type: entity
        entity: sensor.smart_column_abc123_power
        name: –ú–æ—â–Ω–æ—Å—Ç—å
        icon: mdi:lightning-bolt

  # –ò—Å—Ç–æ—Ä–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä
  - type: history-graph
    title: –¢—Ä–µ–Ω–¥—ã —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä
    hours_to_show: 12
    entities:
      - sensor.smart_column_abc123_cube_temp
      - sensor.smart_column_abc123_column_top

  # –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —ç–Ω–µ—Ä–≥–∏–∏
  - type: energy-date-selection
  - type: energy-sources-table
```

---

## –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

### –û–ø–æ–≤–µ—â–µ–Ω–∏–µ –æ –≤—ã—Å–æ–∫–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ

```yaml
alias: Smart Column - –û–ø–æ–≤–µ—â–µ–Ω–∏–µ –æ –≤—ã—Å–æ–∫–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ
trigger:
  - platform: numeric_state
    entity_id: sensor.smart_column_abc123_cube_temp
    above: 95
condition: []
action:
  - service: notify.mobile_app
    data:
      title: ‚ö†Ô∏è –û–ø–æ–≤–µ—â–µ–Ω–∏–µ Smart Column
      message: "–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∫—É–±–∞: {{ states('sensor.smart_column_abc123_cube_temp') }}¬∞C"
      data:
        priority: high
        ttl: 0
mode: single
```

### –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –Ω–∏–∑–∫–æ–º –∑–¥–æ—Ä–æ–≤—å–µ —Å–∏—Å—Ç–µ–º—ã

```yaml
alias: Smart Column - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –Ω–∏–∑–∫–æ–º –∑–¥–æ—Ä–æ–≤—å–µ
trigger:
  - platform: numeric_state
    entity_id: sensor.smart_column_abc123_health
    below: 70
condition: []
action:
  - service: notify.persistent_notification
    data:
      title: –ù–∏–∑–∫–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ Smart Column
      message: "–ó–¥–æ—Ä–æ–≤—å–µ —Å–∏—Å—Ç–µ–º—ã {{ states('sensor.smart_column_abc123_health') }}%. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ."
  - service: persistent_notification.create
    data:
      title: ‚ö†Ô∏è Smart Column
      message: "–ó–¥–æ—Ä–æ–≤—å–µ: {{ states('sensor.smart_column_abc123_health') }}%"
mode: single
```

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ Telegram –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞

```yaml
alias: Smart Column - –ü—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–µ—Ä—à—ë–Ω
trigger:
  - platform: state
    entity_id: sensor.smart_column_abc123_cube_temp
    to: "25.0"
    for:
      minutes: 10
condition:
  - condition: template
    value_template: "{{ states('sensor.smart_column_abc123_cube_temp') | float < 30 }}"
action:
  - service: telegram_bot.send_message
    data:
      message: |
        ‚úÖ –ü—Ä–æ—Ü–µ—Å—Å —Ä–µ–∫—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∑–∞–≤–µ—Ä—à—ë–Ω!

        –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
        üå°Ô∏è –ö—É–±: {{ states('sensor.smart_column_abc123_cube_temp') }}¬∞C
        ‚ö° –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ —ç–Ω–µ—Ä–≥–∏–∏: {{ states('sensor.smart_column_abc123_energy') }} –∫–í—Ç‚ãÖ—á

        –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –æ—Ö–ª–∞–∂–¥–∞–µ—Ç—Å—è.
mode: single
```

### –ó–∞—â–∏—Ç–∞ –æ—Ç –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è –º–æ—â–Ω–æ—Å—Ç–∏

```yaml
alias: Smart Column - –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –º–æ—â–Ω–æ—Å—Ç–∏
trigger:
  - platform: numeric_state
    entity_id: sensor.smart_column_abc123_power
    above: 4500
condition: []
action:
  - service: notify.mobile_app
    data:
      title: ‚ö†Ô∏è –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–∞ –º–æ—â–Ω–æ—Å—Ç–∏
      message: "–¢–µ–∫—É—â–∞—è –º–æ—â–Ω–æ—Å—Ç—å: {{ states('sensor.smart_column_abc123_power') }}–í—Ç"
      data:
        priority: high
        actions:
          - action: STOP_COLUMN
            title: –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
mode: single
```

### –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –æ—Ç—á—ë—Ç –æ–± —ç–Ω–µ—Ä–≥–∏–∏

```yaml
alias: Smart Column - –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –æ—Ç—á—ë—Ç
trigger:
  - platform: time
    at: "23:00:00"
condition:
  - condition: template
    value_template: "{{ states('sensor.smart_column_abc123_energy') | float > 0 }}"
action:
  - service: notify.telegram
    data:
      message: |
        üìä –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –æ—Ç—á—ë—Ç Smart Column

        ‚ö° –≠–Ω–µ—Ä–≥–∏—è –∑–∞ —Å–µ–≥–æ–¥–Ω—è: {{ states('sensor.smart_column_abc123_energy') }} –∫–í—Ç‚ãÖ—á
        üå°Ô∏è –ú–∞–∫—Å. —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: {{ state_attr('sensor.smart_column_abc123_cube_temp', 'max_value') }}¬∞C

        {{ now().strftime('%Y-%m-%d') }}
mode: single
```

---

## Energy Dashboard

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Energy Dashboard**
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ü–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚Üí –≠–Ω–µ—Ä–≥–∏—è

2. **–î–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫—É—é —Å–µ—Ç—å**
   - –ù–∞–∂–º–∏—Ç–µ "–î–æ–±–∞–≤–∏—Ç—å –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ"
   - –í—ã–±–µ—Ä–∏—Ç–µ "–û—Ç–¥–µ–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞"

3. **–í—ã–±—Ä–∞—Ç—å –¥–∞—Ç—á–∏–∫ —ç–Ω–µ—Ä–≥–∏–∏ Smart Column**
   - –í—ã–±–µ—Ä–∏—Ç–µ: `sensor.smart_column_abc123_energy`
   - –ï–¥–∏–Ω–∏—Ü–∞: –∫–í—Ç‚ãÖ—á
   - –ù–∞–∂–º–∏—Ç–µ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"

4. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)**
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–∞—Ä–∏—Ñ –Ω–∞ —ç–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏—é
   - –ü—Ä–∏–º–µ—Ä: 5.50 ‚ÇΩ/–∫–í—Ç‚ãÖ—á

### –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —ç–Ω–µ—Ä–≥–∏–∏

–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Å–æ–æ–±—â–∞–µ—Ç –Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω–æ–µ —ç–Ω–µ—Ä–≥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ. –î–∞—Ç—á–∏–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `state_class: total_increasing`, —á—Ç–æ –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è Energy Dashboard.

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ì—Ä–∞—Ñ–∏–∫–∏ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –∑–∞ –¥–µ–Ω—å/–º–µ—Å—è—Ü/–≥–æ–¥
- –†–∞—Å—á—ë—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
- –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ CSV

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —ç–Ω–µ—Ä–≥–∏–∏ –ø–æ –ø—Ä–æ—Ü–µ—Å—Å–∞–º

–°–æ–∑–¥–∞–π—Ç–µ utility meters –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –ø—Ä–æ—Ü–µ—Å—Å–∞–º:

```yaml
utility_meter:
  smart_column_process_energy:
    source: sensor.smart_column_abc123_energy
    cycle: none  # –†—É—á–Ω–æ–π —Å–±—Ä–æ—Å

  smart_column_daily:
    source: sensor.smart_column_abc123_energy
    cycle: daily
```

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –¥–ª—è —Å–±—Ä–æ—Å–∞ —Å—á—ë—Ç—á–∏–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞:

```yaml
alias: Smart Column - –°–±—Ä–æ—Å —Å—á—ë—Ç—á–∏–∫–∞ —ç–Ω–µ—Ä–≥–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞
trigger:
  - platform: state
    entity_id: sensor.smart_column_abc123_power
    from: "0"
    to: "0"
    for:
      hours: 1
action:
  - service: utility_meter.reset
    target:
      entity_id: utility_meter.smart_column_process_energy
```

---

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ MQTT –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:**
1. –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ ‚Üí –°—Ç–∞—Ç—É—Å
2. –ò—â–∏—Ç–µ "MQTT: –ü–æ–¥–∫–ª—é—á–µ–Ω–æ"

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∂—É—Ä–Ω–∞–ª—ã Home Assistant MQTT:**
```
–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –°–∏—Å—Ç–µ–º–∞ ‚Üí –ñ—É—Ä–Ω–∞–ª—ã
–§–∏–ª—å—Ç—Ä: mqtt
```

**–í—Ä—É—á–Ω—É—é –ø—Ä–æ—Å–ª—É—à–∞–π—Ç–µ —Ç–æ–ø–∏–∫–∏:**
```bash
mosquitto_sub -h localhost -u mqtt_user -P –ø–∞—Ä–æ–ª—å -t 'smartcolumn/#' -v
```

–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
```
smartcolumn/abc123/state {"mode":0,"temperatures":{...}}
smartcolumn/abc123/health 95
smartcolumn/abc123/status online
```

### –°—É—â–Ω–æ—Å—Ç–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç "–ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ"

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**

1. **–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –æ—Ñ–ª–∞–π–Ω**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç–µ–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
   - –ü–∏–Ω–≥—É–π—Ç–µ IP —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

2. **MQTT –±—Ä–æ–∫–µ—Ä –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –î–æ–ø–æ–ª–Ω–µ–Ω–∏—è ‚Üí Mosquitto broker
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –∏ –∂—É—Ä–Ω–∞–ª—ã

3. **–ù–µ–≤–µ—Ä–Ω—ã–µ —É—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ username/password
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∂—É—Ä–Ω–∞–ª—ã Mosquitto –Ω–∞ –æ—à–∏–±–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

### –°–æ–æ–±—â–µ–Ω–∏—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –Ω–µ –ø–æ–ª—É—á–µ–Ω—ã

**–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è:**

1. –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí MQTT
2. –°–Ω–∏–º–∏—Ç–µ –≥–∞–ª–æ—á–∫—É "–í–∫–ª—é—á–∏—Ç—å Discovery"
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
4. –ü–æ—Å—Ç–∞–≤—å—Ç–µ –≥–∞–ª–æ—á–∫—É "–í–∫–ª—é—á–∏—Ç—å Discovery"
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å

–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ –æ–ø—É–±–ª–∏–∫—É–µ—Ç –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è.

**–†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:**

```bash
mosquitto_sub -h localhost -u mqtt_user -P –ø–∞—Ä–æ–ª—å -t 'homeassistant/#' -v
```

–î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è –≤–∏–¥–∞:
```
homeassistant/sensor/abc123_cube_temp/config {"name":"–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∫—É–±–∞",...}
```

### –ó–Ω–∞—á–µ–Ω–∏—è —ç–Ω–µ—Ä–≥–∏–∏ –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞—Ç—á–∏–∫ —ç–Ω–µ—Ä–≥–∏–∏:**
- –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ ‚Üí –°–æ—Å—Ç–æ—è–Ω–∏—è
- –ù–∞–π–¥–∏—Ç–µ: `sensor.smart_column_abc123_energy`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `state_class: total_increasing`

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Energy Dashboard:**
- –≠–Ω–µ—Ä–≥–∏—è ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–∞—Ç—á–∏–∫ –¥–æ–±–∞–≤–ª–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –µ–¥–∏–Ω–∏—Ü—É –∏–∑–º–µ—Ä–µ–Ω–∏—è: –∫–í—Ç‚ãÖ—á

**–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:**
- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ ‚Üí –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞
- –î–æ–∂–¥–∏—Ç–µ—Å—å –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Energy Dashboard —á–µ—Ä–µ–∑ 1 –º–∏–Ω—É—Ç—É

### –í—ã—Å–æ–∫–∏–π —Ç—Ä–∞—Ñ–∏–∫ MQTT

**–£–º–µ–Ω—å—à–∏—Ç–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:**

–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí MQTT:
- –£–≤–µ–ª–∏—á—å—Ç–µ "–ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—É–±–ª–∏–∫–∞—Ü–∏–∏"
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: 10000-30000 –º—Å
- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏ QoS:**

–î–ª—è –¥–∞–Ω–Ω—ã—Ö —Å –Ω–∏–∑–∫–∏–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ QoS 0 –≤–º–µ—Å—Ç–æ QoS 1.

---

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ ‚â• 10 —Å–µ–∫—É–Ω–¥
- –í–∫–ª—é—á–∞–π—Ç–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ QoS 0 –¥–ª—è –≤—ã—Å–æ–∫–æ—á–∞—Å—Ç–æ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞–¥—ë–∂–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ MQTT
- –í–∫–ª—é—á–∏—Ç–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –Ω–∞ –±—Ä–æ–∫–µ—Ä–µ
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ TLS –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- –î–µ—Ä–∂–∏—Ç–µ –ø—Ä–æ—à–∏–≤–∫—É –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–π

### –ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å

- –í–∫–ª—é—á–∏—Ç–µ "–ó–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ" –¥–ª—è Mosquitto
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–µ MQTT —Å–µ—Å—Å–∏–∏
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ LWT –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
- –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (–µ–∂–µ–º–µ—Å—è—á–Ω–æ)

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- –°–æ–∑–¥–∞–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —Ç—Ä–µ–Ω–¥—ã —ç–Ω–µ—Ä–≥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- –õ–æ–≥–∏—Ä—É–π—Ç–µ –≤–∞–∂–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [Home Assistant MQTT](https://www.home-assistant.io/integrations/mqtt/)
- [MQTT Discovery](https://www.home-assistant.io/docs/mqtt/discovery/)
- [Energy Dashboard](https://www.home-assistant.io/docs/energy/)

### –°–æ–æ–±—â–µ—Å—Ç–≤–æ
- [–§–æ—Ä—É–º—ã Home Assistant](https://community.home-assistant.io/)
- [r/homeassistant](https://reddit.com/r/homeassistant)

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- [MQTT Explorer](http://mqtt-explorer.com/) - Desktop MQTT –∫–ª–∏–µ–Ω—Ç
- [Node-RED](https://nodered.org/) - –í–∏–∑—É–∞–ª—å–Ω—ã–µ –ø–æ—Ç–æ–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

---

## –ü—Ä–∏–º–µ—Ä: –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ configuration.yaml

–î–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –≤–æ—Ç –ø–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ `configuration.yaml`:

```yaml
# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è MQTT
mqtt:
  broker: localhost
  port: 1883
  username: !secret mqtt_user
  password: !secret mqtt_password
  discovery: true
  discovery_prefix: homeassistant
  birth_message:
    topic: 'hass/status'
    payload: 'online'
  will_message:
    topic: 'hass/status'
    payload: 'offline'

# Utility Meters –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —ç–Ω–µ—Ä–≥–∏–∏
utility_meter:
  smart_column_daily_energy:
    source: sensor.smart_column_abc123_energy
    cycle: daily

  smart_column_monthly_energy:
    source: sensor.smart_column_abc123_energy
    cycle: monthly

# –®–∞–±–ª–æ–Ω–Ω—ã–µ –¥–∞—Ç—á–∏–∫–∏
template:
  - sensor:
      - name: "–°—Ç–∞—Ç—É—Å Smart Column"
        state: >
          {% if states('sensor.smart_column_abc123_power') | float > 100 %}
            –†–∞–±–æ—Ç–∞–µ—Ç
          {% else %}
            –ü—Ä–æ—Å—Ç–æ–π
          {% endif %}
        icon: >
          {% if states('sensor.smart_column_abc123_power') | float > 100 %}
            mdi:flask
          {% else %}
            mdi:flask-empty-outline
          {% endif %}

      - name: "–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å Smart Column"
        unit_of_measurement: "%"
        state: >
          {{ states('sensor.smart_column_abc123_health') }}

# –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
automation:
  - alias: Smart Column –û–ø–æ–≤–µ—â–µ–Ω–∏–µ - –í—ã—Å–æ–∫–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞
    trigger:
      - platform: numeric_state
        entity_id: sensor.smart_column_abc123_cube_temp
        above: 95
    action:
      - service: notify.mobile_app
        data:
          title: "‚ö†Ô∏è –í—ã—Å–æ–∫–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞"
          message: "{{ states('sensor.smart_column_abc123_cube_temp') }}¬∞C"
```

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 2025-12-06*
*–î–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∂—É—Ä–Ω–∞–ª—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ issue –Ω–∞ GitHub*
